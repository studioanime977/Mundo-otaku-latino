<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-adsense-account" content="ca-pub-8480825005176665">
  <title>Dragon Ball Super - Temporada Completa - StudioOtaku</title>
  
  <link rel="stylesheet" href="../../../css/temporadas.css">
  <link rel="stylesheet" href="../../../css/style.css">
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8480825005176665" crossorigin="anonymous"></script>
  <link rel="apple-touch-icon" href="/img/mundo-otaku-latino.ico?v=1">

  <link rel="stylesheet" href="../../../css/anime.css">
  <link rel="stylesheet" href="../../../css/responsive-style.css">
  <link rel="stylesheet" href="../../../css/responsive-navigation.css">
  <link rel="icon" href="../../../ico/logo.png">

  <style>
    /* Layout de escritorio: reproductor a la izquierda y Popular a la derecha */
    .main-content { display: flex; gap: 20px; align-items: flex-start; }
    .left-content { flex: 3; }
    .right-content { flex: 1; }

    /* Miniaturas en la sección Popular (desktop) */
    .right-content .popular-item { display: flex; align-items: center; gap: 12px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.03); margin-bottom: 10px; cursor: pointer; }
    .right-content .popular-item:hover { background: rgba(255,255,255,0.06); }
    .right-content .popular-item img { width: 120px; height: 72px; object-fit: cover; border-radius: 6px; display: block; }
    .right-content .popular-item .title { font-size: 0.95rem; line-height: 1.3; color: #fff; }

    /* Controles del reproductor */
    .video-functions { display: flex; gap: 10px; justify-content: flex-start; margin-top: 10px; }
    .function-btn { padding: 10px 16px; background: linear-gradient(135deg, #6c63ff 0%, #5a54e6 100%); color: #fff; border: none; border-radius: 8px; font-weight: 600; box-shadow: 0 4px 10px rgba(0,0,0,0.15); cursor: pointer; transition: transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease; }
    .function-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 14px rgba(0,0,0,0.2); }
    .function-btn:active { transform: translateY(0); box-shadow: 0 3px 8px rgba(0,0,0,0.15); }

    /* Efecto Expandir */
    .contenedor-video.expanded .reproductor-video iframe { height: 75vh; }

    /* Efecto Apagar Luces */
    body.lights-off::before { content: ""; position: fixed; inset: 0; background: rgba(0,0,0,0.85); pointer-events: none; z-index: 999; }
    .reproductor-video { position: relative; z-index: 1000; }
    body.lights-off .function-btn { background: #333; color: #ffd54f; }

    /* Opcional: asegurar que el iframe del reproductor se vea bien */
    .reproductor-video iframe { width: 100%; height: 480px; border: none; }
    /* Botón Descargar alineado a la derecha */
    .video-functions { align-items: center; }
    .download-btn { margin-left: auto; background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); }
    .function-btn.disabled { opacity: 0.5; pointer-events: none; }
  </style>
</head>
<body>

  <header class="header">
    <nav class="nav-container">
      <div class="logo"><img src="../../../ico/logo.png" alt="Mundo Otaku Latino" style="height:28px; vertical-align:middle; margin-right:8px;">Mundo Otaku Latino</div>
      <ul class="nav-menu">
        <li><a href="../../index.html#inicio">Inicio</a></li>
        <li><a href="../../html/catalogo.html">Anime</a></li>
        <li><a href="#peliculas">Películas</a></li>
        <li><a href="#generos">Géneros</a></li>
        <li><a href="https://exe.io/ANIMETV" target="_blank">APK</a></li>
      </ul>
    </nav>
  </header>

  <main class="main-content">
    <a href="../../html/catalogo.html" class="back-btn">Volver al Catalogo</a>
    <div class="left-content">
      
      <div class="title-container">
        <h1 class="season-title">Dragon Ball Super - Serie Completa</h1>
        <h2 class="episode-title" id="current-episode-title">Episodio 1</h2>
      </div>

      <div class="description">
        <p>Disfruta de Dragon Ball Super completa (131 episodios). Selecciona un episodio y elige el reproductor. La opción 1 contiene los enlaces proporcionados.</p>
      </div>

      <div class="contenedor-video">
        <div class="player-options">
          <button id="opcion1-btn" class="player-btn active" onclick="switchPlayer('opcion1')">OPCIÓN 1</button>
          <button id="opcion2-btn" class="player-btn" onclick="switchPlayer('opcion2')">OPCIÓN 2</button>
          <button id="opcion3-btn" class="player-btn" onclick="switchPlayer('opcion3')">OPCIÓN 3</button>
          <button id="opcion4-btn" class="player-btn" onclick="switchPlayer('opcion4')">OPCIÓN 4</button>
        </div>
        <div class="reproductor-video">
          <div id="opcion1-player" class="player-container active">
            <iframe src="" width="800" height="600" allowfullscreen allowtransparency allow="autoplay" scrolling="no" frameborder="0"></iframe>
          </div>
          <div id="opcion2-player" class="player-container">
            <iframe src="" width="800" height="600" allowfullscreen allowtransparency allow="autoplay" scrolling="no" frameborder="0"></iframe>
          </div>
          <div id="opcion3-player" class="player-container">
            <iframe src="" width="800" height="600" allowfullscreen allowtransparency allow="autoplay" scrolling="no" frameborder="0"></iframe>
          </div>
          <div id="opcion4-player" class="player-container">
            <iframe src="" width="800" height="600" allowfullscreen allowtransparency allow="autoplay" scrolling="no" frameborder="0"></iframe>
          </div>
        </div>
        <div class="video-functions">
          <button class="function-btn" onclick="expandPlayer()">Expandir</button>
          <button class="function-btn" onclick="toggleLights()">Apagar Luces</button>
          <a id="download-btn" class="function-btn download-btn" href="#" target="_blank" rel="noopener noreferrer">Descargar</a>
        </div>
      </div>

      <div class="description">
        <p>131/131 episodios disponibles. Estado: Colección completa.</p>
      </div>

      <div class="episodes-container">
        <h3 style="text-align:center; margin-bottom: 1.5rem; font-size: 1.8rem;">Episodios</h3>
        <div class="episodes-grid" id="episodes-grid">
          <!-- Los episodios se generarán con JavaScript -->
        </div>
      </div>
    </div>

    <div class="right-content">
      <h3>Popular</h3>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/spy-x-family/spy-x-family.html'">
        <img src="../../../img/Spy x Family S1.jpg" alt="Spy x Family">
        <div class="title">Spy x Family - Temporada 1</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/chainsaw-man/chainsaw-man.html'">
        <img src="../../../img/Chainsaw Man S1.jpg" alt="Chainsaw Man">
        <div class="title">Chainsaw Man - Temporada 1</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/attack-on-titan/attack-on-titan.html'">
        <img src="../../../img/Attack on Titan S4.jpg" alt="Attack on Titan">
        <div class="title">Attack on Titan - Temporada 4</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/jujutsu-kaisen/jujutsu-kaisen.html'">
        <img src="../../../img/Jujutsu Kaisen S1.jpg" alt="Jujutsu Kaisen">
        <div class="title">Jujutsu Kaisen - Temporada 1</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/demon-slayer/demon-slayer.html'">
        <img src="../../../img/Kimetsu No Yaiba temporada 1.png" alt="Kimetsu No Yaiba">
        <div class="title">Kimetsu No Yaiba - Temporada 1</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/naruto/naruto.html'">
        <img src="../../../img/Naruto Classic.jpg" alt="Naruto">
        <div class="title">Naruto - Clásico</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/one-piece/one-piece.html'">
        <img src="../../../img/One Piece Wano.jpg" alt="One Piece">
        <div class="title">One Piece - Wano</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/dragon-ball/dragon-ball.html'">
        <img src="../../../img/Dragon Ball Z.jpg" alt="Dragon Ball Z">
        <div class="title">Dragon Ball Z</div>
      </div>
      <div class="popular-item" onclick="window.location.href='../../../public/anime/bleach/bleach.html'">
        <img src="../../../img/Bleach TYBW.jpg" alt="Bleach">
        <div class="title">Bleach - TYBW</div>
      </div>
    
      <div class="social-buttons" style="margin-top: 20px; text-align: center;">
        <button class="social-btn" id="youtube-btn">YouTube</button>
        <button class="social-btn" id="whatsapp-btn">WhatsApp</button>
        <button class="social-btn" id="facebook-btn">Facebook</button>
        <button class="social-btn" id="facebook-group-btn">Grupo de Facebook</button>
        <button class="social-btn" id="telegram-channel-btn">Canal de Telegram</button>
        <button class="social-btn" id="telegram-group-btn">Grupo de Telegram</button>
        <button class="social-btn" id="download-app-btn">Descargar App Mundo Otaku Latino</button>
      </div>
    </div>
  </main>

  <style>
    /* Ajustes para dispositivos móviles */
    @media (max-width: 768px) {
      .header {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
      }
  
      .logo {
        font-size: 1.5rem;
        margin-bottom: 10px;
      }
  
      .back-btn {
        font-size: 1rem;
        padding: 10px;
        border-radius: 5px;
      }
  
      .main-content {
        flex-direction: column;
        margin: 10px;
      }
  
      .left-content {
        margin-right: 0;
      }
  
      .right-content {
        margin-top: 20px;
        padding: 10px;
      }
  
      .contenedor-video {
        margin: 10px 0;
      }
  
      .player-options {
        flex-wrap: wrap;
        gap: 5px;
      }
  
      .player-btn {
        font-size: 0.9rem;
        padding: 8px 15px;
      }
  
      .episodes-grid {
        flex-direction: column;
        gap: 5px;
      }
  
      .episode-btn {
        font-size: 0.9rem;
        padding: 8px;
      }
  
      .popular-item {
        flex-direction: column;
        align-items: center;
      }
  
      .popular-item img {
        width: 80px;
        height: 80px;
        margin-bottom: 10px;
      }
  
      .description {
        font-size: 0.9rem;
        padding: 10px;
      }
  
      .navigation-buttons {
        flex-direction: column;
        gap: 10px;
      }
  
      .nav-btn {
        font-size: 0.9rem;
        padding: 8px;
      }
    }
  </style>

  <style>
    .social-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
  
    .social-btn {
      padding: 10px 15px;
      background-color: #6c63ff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      text-align: center;
    }
  
    .social-btn:hover {
      background-color: #4a47a3;
    }
  </style>

  <script>
    // Función para expandir el reproductor
    function expandPlayer() {
      const videoContainer = document.querySelector('.contenedor-video');
      videoContainer.classList.toggle('expanded');
    }
  
    // Función para apagar/encender las luces
    function toggleLights() {
      document.body.classList.toggle('lights-off');
    }
  
    // Bloquear clic derecho
    window.addEventListener('contextmenu', function (e) {
      e.preventDefault();
    });
  
    // Bloquear teclas F12 y Ctrl+Shift+I
    window.addEventListener('keydown', function (e) {
      if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {
        e.preventDefault();
      }
    });
  
    // Convierte cualquier URL de StreamTape (/v/ o /e/) a URL embebible /e/{id}/
    function toEmbed(url) {
      if (!url) return '';
      try {
        const m = url.match(/\/\/(?:www\.)?streamtape\.com\/(?:v|e)\/([^/?#]+)/i);
        if (m && m[1]) return `https://streamtape.com/e/${m[1]}/`;
      } catch (_) {}
      // Fallback: reemplazo simple
      return url.replace('/v/', '/e/') + (url.endsWith('/') ? '' : '/');
    }

    // Estructura de 131 episodios con enlaces en Opción 1 (sin extensiones)
    const episodes = [
      { num: 1, title: "Episodio 1", op1: "https://streamtape.com/v/vWbGYlkgJmC2DV", op2: "https://mxdrop.to/e/1nodgg07tew9o6", op3: "", op4: "" },
      { num: 2, title: "Episodio 2", op1: "https://streamtape.com/v/lAe0y0o3YBS7JkW", op2: "https://mxdrop.to/e/k0evgj0za7lglm", op3: "", op4: "" },
      { num: 3, title: "Episodio 3", op1: "https://streamtape.com/v/GvyQzkzo60t1Gdq", op2: "https://mxdrop.to/e/mkzjrddxc6p10d", op3: "", op4: "" },
      { num: 4, title: "Episodio 4", op1: "https://streamtape.com/v/4vja72rgRvfKXZ3", op2: "https://mxdrop.to/e/8lj9d4lqhnmdxr", op3: "", op4: "" },
      { num: 5, title: "Episodio 5", op1: "https://streamtape.com/v/kZ1zA4bomoFOLyZ", op2: "https://mxdrop.to/e/vkq1rnvntmkd68", op3: "", op4: "" },
      { num: 6, title: "Episodio 6", op1: "https://streamtape.com/v/6Q9jwPgprvH9Gey", op2: "https://mxdrop.to/e/8lj9d4vdtdejd8", op3: "", op4: "" },
      { num: 7, title: "Episodio 7", op1: "https://streamtape.com/v/GAV0MpLvYwS168R", op2: "https://mxdrop.to/e/xw916ov1tk4x1g", op3: "", op4: "" },
      { num: 8, title: "Episodio 8", op1: "https://streamtape.com/v/re3ydDe94mfbwGv", op2: "https://mxdrop.to/e/z1j90pe3bgvx89g", op3: "", op4: "" },
      { num: 9, title: "Episodio 9", op1: "https://streamtape.com/v/QyJMap7a9Wi0QDv", op2: "https://mxdrop.to/e/wlw9rnrrtx8vmx", op3: "", op4: "" },
      { num: 10, title: "Episodio 10", op1: "https://streamtape.com/v/yGglY7aqZys1VY3", op2: "https://mxdrop.to/e/36qoxnq0agk8pr", op3: "", op4: "" },
      { num: 11, title: "Episodio 11", op1: "https://streamtape.com/v/1aXzBgj1lXSej0V", op2: "https://mxdrop.to/e/xw916oqkf8zk63", op3: "", op4: "" },
      { num: 12, title: "Episodio 12", op1: "https://streamtape.com/v/wyZgvBw6G4SJ0bJ", op2: "https://mxdrop.to/e/9wx40nq7cglrxm", op3: "", op4: "" },
      { num: 13, title: "Episodio 13", op1: "https://streamtape.com/v/0dzPlBD6rKub79Q", op2: "https://mxdrop.to/e/jdkvgd0rix7141", op3: "", op4: "" },
      { num: 14, title: "Episodio 14", op1: "https://streamtape.com/v/armamzxkmqIJ3Z", op2: "https://mxdrop.to/e/q1d7r1nlhxk6xr4", op3: "", op4: "" },
      { num: 15, title: "Episodio 15", op1: "https://streamtape.com/v/41B7eoo0GjTK3Am", op2: "https://mxdrop.to/e/7kj46kewa63w16", op3: "", op4: "" },
      { num: 16, title: "Episodio 16", op1: "https://streamtape.com/v/7X0AyoAGo3cA7dm", op2: "https://mxdrop.to/e/4d9ozde1c973lg", op3: "", op4: "" },
      { num: 17, title: "Episodio 17", op1: "https://streamtape.com/v/DAQMlvrVPvUkpgr", op2: "https://mxdrop.to/e/67rwg71vs36wdx", op3: "", op4: "" },
      { num: 18, title: "Episodio 18", op1: "https://streamtape.com/v/Mkv3yzJ0raFmjVr", op2: "https://mxdrop.to/e/q1d7r109i8egdn", op3: "", op4: "" },
      { num: 19, title: "Episodio 19", op1: "https://streamtape.com/v/0rKjwLwRDLcbyl3", op2: "https://mxdrop.to/e/vkq1rkwnhq8vjkm", op3: "", op4: "" },
      { num: 20, title: "Episodio 20", op1: "https://streamtape.com/v/0Rb6aADBDVSb1A8", op2: "https://mxdrop.to/e/67rwg7ngij918e", op3: "", op4: "" },
      { num: 21, title: "Episodio 21", op1: "https://streamtape.com/v/MZMrj0LPWxtwY7", op2: "https://mxdrop.to/e/xw916pe1ixlnw4", op3: "", op4: "" },
      { num: 22, title: "Episodio 22", op1: "https://streamtape.com/v/3rQYjR17wgSaRy", op2: "https://mxdrop.to/e/xw916p1mhw6m8x", op3: "", op4: "" },
      { num: 23, title: "Episodio 23", op1: "https://streamtape.com/v/XogBGRKOaAfD8qz", op2: "https://mxdrop.to/e/67rwg3odbw9n8j", op3: "", op4: "" },
      { num: 24, title: "Episodio 24", op1: "https://streamtape.com/v/GjQZjjMWxzs1JQe", op2: "https://mxdrop.to/e/4d9oz4pvfq4ddk7", op3: "", op4: "" },
      { num: 25, title: "Episodio 25", op1: "https://streamtape.com/v/9vq0PLodgyIa0ao", op2: "https://mxdrop.to/e/jdkvg4plbpgxr7", op3: "", op4: "" },
      { num: 26, title: "Episodio 26", op1: "https://streamtape.com/v/eAdJqBDo9AUZBJ", op2: "https://mxdrop.to/e/mkzjr48wtgj930", op3: "", op4: "" },
      { num: 27, title: "Episodio 27", op1: "https://streamtape.com/v/a4jWGGRBJ1UxYDR", op2: "https://mxdrop.to/e/l79vrg96sq8m9p", op3: "", op4: "" },
      { num: 28, title: "Episodio 28", op1: "https://streamtape.com/v/8qo2wvr2eMSoRR4", op2: "https://mxdrop.to/e/dkrow4rdc7dol0q", op3: "", op4: "" },
      { num: 29, title: "Episodio 29", op1: "https://streamtape.com/v/JqV90KgbB9IjMz9", op2: "https://mxdrop.to/e/03z4wojkcj679j", op3: "", op4: "" },
      { num: 30, title: "Episodio 30", op1: "https://streamtape.com/v/vBO9p6Preat4O68", op2: "https://mxdrop.to/e/pj60qn9oimw3l6", op3: "", op4: "" },
      { num: 31, title: "Episodio 31", op1: "https://streamtape.com/v/reP00ZPJ4qsxK0", op2: "https://mxdrop.to/e/67rwg3q9bx77ml", op3: "", op4: "" },
      { num: 32, title: "Episodio 32", op1: "https://streamtape.com/v/mqmq7oKrlgsbKbr", op2: "https://mxdrop.to/e/mkzjr4dwcxvmq4d", op3: "", op4: "" },
      { num: 33, title: "Episodio 33", op1: "https://streamtape.com/v/Xkw7DzOqxatD9k0", op2: "https://mxdrop.to/e/pj60qnjdaw91xe", op3: "", op4: "" },
      { num: 34, title: "Episodio 34", op1: "https://streamtape.com/v/Jy4jOpZoelHjjme", op2: "https://mxdrop.to/e/36qoxrr3up9rv0", op3: "", op4: "" },
      { num: 35, title: "Episodio 35", op1: "https://streamtape.com/v/DllGyKO0bosDWG", op2: "https://mxdrop.to/e/vkq1rvercgzj0k", op3: "", op4: "" },
      { num: 36, title: "Episodio 36", op1: "https://streamtape.com/v/zQAPMl6kO0CYrP2", op2: "https://mxdrop.to/e/36qoxr1lhrp3j8", op3: "", op4: "" },
      { num: 37, title: "Episodio 37", op1: "https://streamtape.com/v/oe90j4PQ8lUJ8rD", op2: "https://mxdrop.to/e/36qoxrx3uvrg0v", op3: "", op4: "" },
      { num: 38, title: "Episodio 38", op1: "https://streamtape.com/v/lrVGexMj8RUbV0", op2: "https://mxdrop.to/e/pj60qnqxa90gxg", op3: "", op4: "" },
      { num: 39, title: "Episodio 39", op1: "https://streamtape.com/v/ekOrgKGqWDtw8B", op2: "https://mxdrop.to/e/nln8rgjdhx638", op3: "", op4: "" },
      { num: 40, title: "Episodio 40", op1: "https://streamtape.com/v/A2L6O4Wr3qtX0BO", op2: "https://mxdrop.to/e/gjdmx4qliqkk1k", op3: "", op4: "" },
      { num: 41, title: "Episodio 41", op1: "https://streamtape.com/v/9X4qmpay4Bh9xz", op2: "https://mxdrop.to/e/wlw9r844fojm89", op3: "", op4: "" },
      { num: 42, title: "Episodio 42", op1: "https://streamtape.com/v/Y6elBVgZmoHv04G", op2: "https://mxdrop.to/e/4d9oz43du8qlmr", op3: "", op4: "" },
      { num: 43, title: "Episodio 43", op1: "https://streamtape.com/v/vPYDOxZLgouadM", op2: "https://mxdrop.to/e/4d9oz40vhqrejz3", op3: "", op4: "" },
      { num: 44, title: "Episodio 44", op1: "https://streamtape.com/v/bGo4JpmparcPgZK", op2: "https://mxdrop.to/e/gjdmx4wdi6n7ze", op3: "", op4: "" },
      { num: 45, title: "Episodio 45", op1: "https://streamtape.com/v/jPP0oOo87MIzlPz", op2: "https://mxdrop.to/e/r60v4g10bv0jo7", op3: "", op4: "" },
      { num: 46, title: "Episodio 46", op1: "https://streamtape.com/v/AXM3OlG9OMcXMdR", op2: "https://mxdrop.to/e/xw916pm7i4x9dr", op3: "", op4: "" },
      { num: 47, title: "Episodio 47", op1: "https://streamtape.com/v/696aQY7oejI9mKJ", op2: "https://mxdrop.to/e/gjdmx48mh9vde1", op3: "", op4: "" },
      { num: 48, title: "Episodio 48", op1: "https://streamtape.com/v/m6YGDoRyZ9sbKVe", op2: "https://mxdrop.to/e/dkrow4nwak0o4n", op3: "", op4: "" },
      { num: 49, title: "Episodio 49", op1: "https://streamtape.com/v/yr1beZrglbu1Z71", op2: "https://mxdrop.to/e/36qox1ooirrken", op3: "", op4: "" },
      { num: 50, title: "Episodio 50", op1: "https://streamtape.com/v/arjy4DKOavsxkPG", op2: "https://mxdrop.to/e/l79vrzjkhvwz6e", op3: "", op4: "" },
      { num: 51, title: "Episodio 51", op1: "https://streamtape.com/v/wDr0YeZb4wsJRaW", op2: "https://mxdrop.to/e/03z4wlm4ukgjr3", op3: "", op4: "" },
      { num: 52, title: "Episodio 52", op1: "https://streamtape.com/v/BbP3rb0a83uMD6", op2: "https://mxdrop.to/e/vkq1re68tk9nm9", op3: "", op4: "" },
      { num: 53, title: "Episodio 53", op1: "https://streamtape.com/v/BkjoGvXxrWc2Ap", op2: "https://mxdrop.to/e/7kj46d3vsjvlpx", op3: "", op4: "" },
      { num: 54, title: "Episodio 54", op1: "https://streamtape.com/v/Aq0eBAyWdKIwbK", op2: "https://mxdrop.to/e/gjdmxldwbk978l", op3: "", op4: "" },
      { num: 55, title: "Episodio 55", op1: "https://streamtape.com/v/agZ8MQaZovSxqQZ", op2: "https://mxdrop.to/e/67rwg6rgcpg87r", op3: "", op4: "" },
      { num: 56, title: "Episodio 56", op1: "https://streamtape.com/v/ZxQmk7eZODhqx8O", op2: "https://mxdrop.to/e/k0evrxw3i0koqd", op3: "", op4: "" },
      { num: 57, title: "Episodio 57", op1: "https://streamtape.com/v/eLDLbM9lzaFYB1Y", op2: "https://mxdrop.to/e/elzrj763i3qgeg", op3: "", op4: "" },
      { num: 58, title: "Episodio 58", op1: "https://streamtape.com/v/6oyzx2Pm7Gc9DrZ", op2: "https://mxdrop.to/e/l79vrz78bm4r8n", op3: "", op4: "" },
      { num: 59, title: "Episodio 59", op1: "https://streamtape.com/v/8WpBv37MZBu8RZ", op2: "https://mxdrop.to/e/36qox16xfrdov", op3: "", op4: "" },
      { num: 60, title: "Episodio 60", op1: "https://streamtape.com/v/WpaOPajWmjU0zB", op2: "https://mxdrop.to/e/4d9ozx43iqr64oz", op3: "", op4: "" },
      { num: 61, title: "Episodio 61", op1: "https://streamtape.com/v/GW7zgJzzAOI1KV4", op2: "https://mxdrop.to/e/r60v4qq8tnzxe0", op3: "", op4: "" },
      { num: 62, title: "Episodio 62", op1: "https://streamtape.com/v/9yA2OKAgDeHBR3", op2: "https://mxdrop.to/e/wlw9reoou7m9gk", op3: "", op4: "" },
      { num: 63, title: "Episodio 63", op1: "https://streamtape.com/v/olmpG6o6dLTJzYL", op2: "https://mxdrop.to/e/9wx4070zi33j1v4", op3: "", op4: "" },
      { num: 64, title: "Episodio 64", op1: "https://streamtape.com/v/KgmxYAajaRTDmX", op2: "https://mxdrop.to/e/owzdrerjf7e0mp", op3: "", op4: "" },
      { num: 65, title: "Episodio 65", op1: "https://streamtape.com/v/1bAXlq8yXaTeQ60", op2: "https://mxdrop.to/e/vkq1reo9cpk9xg", op3: "", op4: "" },
      { num: 66, title: "Episodio 66", op1: "https://streamtape.com/v/Qby1q7OQ1vT0zMY", op2: "https://mxdrop.to/e/03z4wxl7t88g96", op3: "", op4: "" },
      { num: 67, title: "Episodio 67", op1: "https://streamtape.com/v/wzve6qXekGuJJ7g", op2: "https://mxdrop.to/e/elzrj7mxcqqwjj3", op3: "", op4: "" },
      { num: 68, title: "Episodio 68", op1: "https://streamtape.com/v/aRX4lg3OJBHxyjO", op2: "https://mxdrop.to/e/1nodjq3riwvlez", op3: "", op4: "" },
      { num: 69, title: "Episodio 69", op1: "https://streamtape.com/v/bKxL1Gvx73HPgde", op2: "https://mxdrop.to/e/36qox1dnb4ln48", op3: "", op4: "" },
      { num: 70, title: "Episodio 70", op1: "https://streamtape.com/v/x279o0rWPdFoe3", op2: "https://mxdrop.to/e/l79vrzk1i8k1q4", op3: "", op4: "" },
      { num: 71, title: "Episodio 71", op1: "https://streamtape.com/v/Pq7DdyvmvXS00kd", op2: "https://mxdrop.to/e/k0evrxzot717x3", op3: "", op4: "" },
      { num: 72, title: "Episodio 72", op1: "https://streamtape.com/v/0r2yMrjMpbCbJXR", op2: "https://mxdrop.to/e/1nodjqe9ske993v", op3: "", op4: "" },
      { num: 73, title: "Episodio 73", op1: "https://streamtape.com/v/dj24lRggW2CkxbW", op2: "https://mxdrop.to/e/jdkvg1opc3qj37", op3: "", op4: "" },
      { num: 74, title: "Episodio 74", op1: "https://streamtape.com/v/g2lr0DXqY9uqDv1", op2: "https://mxdrop.to/e/z1j90e3wcevn13", op3: "", op4: "" },
      { num: 75, title: "Episodio 75", op1: "https://streamtape.com/v/A4jzLBJJ7wfXPzb", op2: "https://mxdrop.to/e/7kj46dzpiprvkg", op3: "", op4: "" },
      { num: 76, title: "Episodio 76", op1: "https://streamtape.com/v/xgYLABXkPqUkJRV", op2: "https://mxdrop.to/e/xw916rzgb8en0", op3: "", op4: "" },
      { num: 77, title: "Episodio 77", op1: "https://streamtape.com/v/4vR1z3xQlLSK38q", op2: "https://mxdrop.to/e/1nodj8d9hoqvl8", op3: "", op4: "" },
      { num: 78, title: "Episodio 78", op1: "https://streamtape.com/v/pzXG3yA4GXHrvqX", op2: "https://mxdrop.to/e/7kj46841sd4ovp4", op3: "", op4: "" },
      { num: 79, title: "Episodio 79", op1: "https://streamtape.com/v/ZDDezdoXaXTqQm2", op2: "https://mxdrop.to/e/gjdmx1gkuqplkp", op3: "", op4: "" },
      { num: 80, title: "Episodio 80", op1: "https://streamtape.com/v/Okvr2ylvZaF7RM", op2: "https://mxdrop.to/e/4d9oz8rlczlz0l", op3: "", op4: "" },
      { num: 81, title: "Episodio 81", op1: "https://streamtape.com/v/pkZYoq1AK2hrmaA", op2: "https://mxdrop.to/e/z1j90rjxtj8prm", op3: "", op4: "" },
      { num: 82, title: "Episodio 82", op1: "https://streamtape.com/v/X17Xl4wk49Ig6z", op2: "https://mxdrop.to/e/r60v430dav4rmm0", op3: "", op4: "" },
      { num: 83, title: "Episodio 83", op1: "https://streamtape.com/v/rDa7qqy907HbZpG", op2: "https://mxdrop.to/e/36qox839amwk96q", op3: "", op4: "" },
      { num: 84, title: "Episodio 84", op1: "https://streamtape.com/v/yjpbz3QAg6u1rav", op2: "https://mxdrop.to/e/owzdr391hl6xg0z", op3: "", op4: "" },
      { num: 85, title: "Episodio 85", op1: "https://streamtape.com/v/6wW1YqmJx6fZ2l", op2: "https://mxdrop.to/e/9wx408n4smm90o", op3: "", op4: "" },
      { num: 86, title: "Episodio 86", op1: "https://streamtape.com/v/OAbDo0za7vu61g", op2: "https://mxdrop.to/e/gjdmx1nluordnv", op3: "", op4: "" },
      { num: 87, title: "Episodio 87", op1: "https://streamtape.com/v/p79g3BP44kHrvl3", op2: "https://mxdrop.to/e/r60v436jbv8x47m", op3: "", op4: "" },
      { num: 88, title: "Episodio 88", op1: "https://streamtape.com/v/l2DYOAYo4bcOxp", op2: "https://mxdrop.to/e/67rwg470svjwk8", op3: "", op4: "" },
      { num: 89, title: "Episodio 89", op1: "https://streamtape.com/v/BJljmejVeyHyaDY", op2: "https://mxdrop.to/e/gjdmx14wcvk9xm", op3: "", op4: "" },
      { num: 90, title: "Episodio 90", op1: "https://streamtape.com/v/xedLrZzb94U03R", op2: "https://mxdrop.to/e/gjdmx1l3s81gzz", op3: "", op4: "" },
      { num: 91, title: "Episodio 91", op1: "https://streamtape.com/v/OWPbPLLP4xtGQd", op2: "https://mxdrop.to/e/dkrowll3ae8kl7", op3: "", op4: "" },
      { num: 92, title: "Episodio 92", op1: "https://streamtape.com/v/WZPemlZqgrsbPMq", op2: "https://mxdrop.to/e/1nodj8joh4n1kg", op3: "", op4: "" },
      { num: 93, title: "Episodio 93", op1: "https://streamtape.com/v/QJ07wDyk6JSy4K", op2: "https://mxdrop.to/e/1nodj8jqtopezv", op3: "", op4: "" },
      { num: 94, title: "Episodio 94", op1: "https://streamtape.com/v/8D3L96jMrVSjyD", op2: "https://mxdrop.to/e/jdkvgm7mf79llo0", op3: "", op4: "" },
      { num: 95, title: "Episodio 95", op1: "https://streamtape.com/v/3Vw32KJv9VH6XO", op2: "https://mxdrop.to/e/z1j90r7jijvrk3", op3: "", op4: "" },
      { num: 96, title: "Episodio 96", op1: "https://streamtape.com/v/LpKYZe7Q7msezg", op2: "https://mxdrop.to/e/k0evr39js14kr", op3: "", op4: "" },
      { num: 97, title: "Episodio 97", op1: "https://streamtape.com/v/k9qWPj2eBGt98V", op2: "https://mxdrop.to/e/4d9ozzowa3ro4n", op3: "", op4: "" },
      { num: 98, title: "Episodio 98", op1: "https://streamtape.com/v/OJvKKq2Zk7iZJy2", op2: "https://mxdrop.to/e/k0evrrl7i3o9vj7", op3: "", op4: "" },
      { num: 99, title: "Episodio 99", op1: "https://streamtape.com/v/mepq0j8jgKcV9m", op2: "https://mxdrop.to/e/7kj466qdblg1ew", op3: "", op4: "" },
      { num: 100, title: "Episodio 100", op1: "https://streamtape.com/v/9eYYxjmqpJtab8D", op2: "https://mxdrop.to/e/dkrowlzkf6prjo", op3: "", op4: "" },
      { num: 101, title: "Episodio 101", op1: "https://streamtape.com/v/wxjrm0Xx4etx2r", op2: "https://mxdrop.to/e/4d9oz83ru8ej71", op3: "", op4: "" },
      { num: 102, title: "Episodio 102", op1: "https://streamtape.com/v/84D0lL7GJKioKdj", op2: "https://mxdrop.to/e/jdkvgmx9sw3lvl", op3: "", op4: "" },
      { num: 103, title: "Episodio 103", op1: "https://streamtape.com/v/oQxOZQX4ZKIjok", op2: "https://mxdrop.to/e/dkrowl7vuxr4m9", op3: "", op4: "" },
      { num: 104, title: "Episodio 104", op1: "https://streamtape.com/v/1A8O0GDL9bHxkw", op2: "https://mxdrop.to/e/7kj468x9ipvzkz", op3: "", op4: "" },
      { num: 105, title: "Episodio 105", op1: "https://streamtape.com/v/lQb9K4MWvjF7xor", op2: "https://mxdrop.to/e/q1d7rqkgsmgjl", op3: "", op4: "" },
      { num: 106, title: "Episodio 106", op1: "https://streamtape.com/v/VOB2YAjG2kCKR88", op2: "https://mxdrop.to/e/wlw9roqzij4k9z", op3: "", op4: "" },
      { num: 107, title: "Episodio 107", op1: "https://streamtape.com/v/gPxwbGDoOPfqqdD", op2: "https://mxdrop.to/e/elzrjwoeazp9g0", op3: "", op4: "" },
      { num: 108, title: "Episodio 108", op1: "https://streamtape.com/v/bgaAVWr0QlSRll", op2: "https://mxdrop.to/e/gjdmxxmxtr8mrj", op3: "", op4: "" },
      { num: 109, title: "Episodio 109", op1: "https://streamtape.com/v/eYz1ZKwYxyIYrZR", op2: "https://mxdrop.to/e/wlw9rn0xa008e3m", op3: "", op4: "" },
      { num: 110, title: "Episodio 110", op1: "https://streamtape.com/v/VzQex2lOzmfKWXo", op2: "https://mxdrop.to/e/elzrjn9kt8pk9e", op3: "", op4: "" },
      { num: 111, title: "Episodio 111", op1: "https://streamtape.com/v/VOlRDM9ryxSKloM", op2: "https://mxdrop.to/e/owzdr7mztd1klr", op3: "", op4: "" },
      { num: 112, title: "Episodio 112", op1: "https://streamtape.com/v/vPwldpwRoGu4gD1", op2: "https://mxdrop.to/e/8lj9d46eclln1q", op3: "", op4: "" },
      { num: 113, title: "Episodio 113", op1: "https://streamtape.com/v/JYxeqm3K0McjxJY", op2: "https://mxdrop.to/e/mkzjrdlmunex9n", op3: "", op4: "" },
      { num: 114, title: "Episodio 114", op1: "https://streamtape.com/v/errz1KPbvxFkM7", op2: "https://mxdrop.to/e/03z4wve9azpr9d", op3: "", op4: "" },
      { num: 115, title: "Episodio 115", op1: "https://streamtape.com/v/a2xeBVApdeixX6m", op2: "https://mxdrop.to/e/03z4wv0ga0n8wn", op3: "", op4: "" },
      { num: 116, title: "Episodio 116", op1: "https://streamtape.com/v/7wokWoz9BJcMmy", op2: "https://mxdrop.to/e/7kj46ropbdqk6o", op3: "", op4: "" },
      { num: 117, title: "Episodio 117", op1: "https://streamtape.com/v/OJ1YWxyD1MCZOk1", op2: "https://mxdrop.to/e/36qoxnzec9ro1r", op3: "", op4: "" },
      { num: 118, title: "Episodio 118", op1: "https://streamtape.com/v/zQ3eWd1YoDferG", op2: "https://mxdrop.to/e/mkzjrk91ienedj", op3: "", op4: "" },
      { num: 119, title: "Episodio 119", op1: "https://streamtape.com/v/KeRMjAAxRdS00vO", op2: "https://mxdrop.to/e/elzrjlxzbmlnnq", op3: "", op4: "" },
      { num: 120, title: "Episodio 120", op1: "https://streamtape.com/v/K4vM90gmLzH09r4", op2: "https://mxdrop.to/e/owzdrwnvfp473g", op3: "", op4: "" },
      { num: 121, title: "Episodio 121", op1: "https://streamtape.com/v/eo8l4P7Y3YIYbdO", op2: "https://mxdrop.to/e/1nodjnombkqxo06", op3: "", op4: "" },
      { num: 122, title: "Episodio 122", op1: "https://streamtape.com/v/dRy40036OXuZl9", op2: "https://mxdrop.to/e/owzdrw4jbllvvdw", op3: "", op4: "" },
      { num: 123, title: "Episodio 123", op1: "https://streamtape.com/v/4mPxApzAwztrMr", op2: "https://mxdrop.to/e/8lj9dl1dtjlere", op3: "", op4: "" },
      { num: 124, title: "Episodio 124", op1: "https://streamtape.com/v/Zoj9R9Mb3vfqVjk", op2: "https://mxdrop.to/e/nln8rlgxunl4px", op3: "", op4: "" },
      { num: 125, title: "Episodio 125", op1: "https://streamtape.com/v/zbxgdxj7aYsY6QW", op2: "https://mxdrop.to/e/owzdrwg4flqle69", op3: "", op4: "" },
      { num: 126, title: "Episodio 126", op1: "https://streamtape.com/v/OqpPexvWwgiZZB4", op2: "https://mxdrop.to/e/xw916wvgsqmo3z", op3: "", op4: "" },
      { num: 127, title: "Episodio 127", op1: "https://streamtape.com/v/2kDLmwRrWOiZbeq", op2: "https://mxdrop.to/e/jdkvgdmwfp9p80", op3: "", op4: "" },
      { num: 128, title: "Episodio 128", op1: "https://streamtape.com/v/qaGK4ZmRJGizgVm", op2: "https://mxdrop.to/e/owzdrwrkclkdrw7", op3: "", op4: "" },
      { num: 129, title: "Episodio 129", op1: "https://streamtape.com/v/9jDd67673dTa8Bm", op2: "https://mxdrop.to/e/jdkvgdegt79ovwg", op3: "", op4: "" },
      { num: 130, title: "Episodio 130", op1: "https://streamtape.com/v/V0WopQ4L2rsKBdZ", op2: "https://mxdrop.to/e/l79vr7d9f9djg1", op3: "", op4: "" },
      { num: 131, title: "Episodio 131", op1: "https://streamtape.com/v/B4q4DKj3r8TyDbb", op2: "https://mxdrop.to/e/dkrowkpou1ez08", op3: "", op4: "" }
    ];
  
    // Estado actual
    let currentEpisode = null;
    let currentOption = 'opcion1';

    // Generar botones de episodios
    const episodesGrid = document.getElementById('episodes-grid');
    episodes.forEach(episode => {
      const episodeBtn = document.createElement('button');
      episodeBtn.className = 'episode-btn';
      episodeBtn.textContent = `Ep ${episode.num}`;
      episodeBtn.onclick = () => loadEpisode(episode);
      episodesGrid.appendChild(episodeBtn);
    });
  
    // Cargar episodio
    function loadEpisode(episode) {
      document.querySelectorAll('.episode-btn').forEach((btn, index) => {
        btn.classList.toggle('active', index + 1 === episode.num);
      });
      document.getElementById('current-episode-title').textContent = `Episodio ${episode.num}${episode.title ? ': ' + episode.title : ''}`;
      document.querySelector('#opcion1-player iframe').src = toEmbed(episode.op1);
      document.querySelector('#opcion2-player iframe').src = toEmbed(episode.op2);
      document.querySelector('#opcion3-player iframe').src = toEmbed(episode.op3);
      document.querySelector('#opcion4-player iframe').src = toEmbed(episode.op4);
      currentEpisode = episode;
      switchPlayer('opcion1');
      if (typeof setupAutoPlay === 'function') {
        setupAutoPlay();
      }
    }
  
    // Cambiar reproductor
    function switchPlayer(option) {
      document.querySelectorAll('.player-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.getElementById(`${option}-btn`).classList.add('active');
      document.querySelectorAll('.player-container').forEach(container => {
        container.classList.remove('active');
      });
      document.getElementById(`${option}-player`).classList.add('active');
      currentOption = option;
      updateDownloadLink();
    }

    // Determina el URL original (no embebido) según el reproductor activo
    function getUrlForOption(ep, option) {
      if (!ep) return '';
      const map = { opcion1: 'op1', opcion2: 'op2', opcion3: 'op3', opcion4: 'op4' };
      const key = map[option] || 'op1';
      return ep[key] || '';
    }

    // Actualiza el botón Descargar con el enlace del reproductor activo
    function updateDownloadLink() {
      const a = document.getElementById('download-btn');
      const url = getUrlForOption(currentEpisode, currentOption);
      let finalUrl = url;
      
      // Si está activo el Reproductor 2 (mxdrop), convertir /e/ a /f/ para descarga
      if (currentOption === 'opcion2' && /mxdrop\.to\/e\//.test(url)) {
        finalUrl = url.replace('/e/', '/f/');
      }
      
      if (finalUrl) {
        // Generar enlace acortado con exe.io API (formato simple)
        const apiToken = '110e7b6cbdf7a5aa354afb395e889c7aba3411c6';
        // Asegurar que el URL tenga protocolo
        if (!finalUrl.startsWith('http://') && !finalUrl.startsWith('https://')) {
          finalUrl = 'https://' + finalUrl;
        }
        const shortenedUrl = `https://exe.io/st?api=${apiToken}&url=${finalUrl}`;
        
        a.href = shortenedUrl;
        a.classList.remove('disabled');
      } else {
        a.href = '#';
        a.classList.add('disabled');
      }
    }
  
    // Cargar el primer episodio por defecto
    if (episodes.length > 0) {
      loadEpisode(episodes[0]);
    }
  
    // Mover botones de servidor al reproductor
    const playerOptions = document.querySelector('.player-options');
    const videoContainer = document.querySelector('.contenedor-video');
    videoContainer.insertBefore(playerOptions, videoContainer.firstChild);
  </script>
</body>
</html>

