<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-adsense-account" content="ca-pub-8480825005176665">
  <title>Dragon Ball Super - StudioOtaku</title>
  <link rel="stylesheet" href="../../../css/server-selector.css">
  <link rel="stylesheet" href="../../../css/temporadas.css">
  <link rel="stylesheet" href="../../../css/style.css">
  <link rel="stylesheet" href="../../../css/anime.css">
  <link rel="stylesheet" href="../../../css/responsive-style.css">
  <link rel="stylesheet" href="../../../css/responsive-navigation.css">
  <link rel="icon" type="image/png" href="../../../ico/logo.png">
  <link rel="apple-touch-icon" href="../../../ico/logo.png">
  <link rel="shortcut icon" href="../../../ico/logo.png">
  <style>
    .main-content { display: flex; gap: 20px; align-items: flex-start; }
    .left-content { flex: 3; }
    .right-content { flex: 1; }
    .back-btn { display: inline-block; margin: 12px 0; padding: 10px 16px; background: #6c63ff; color: #fff; border-radius: 8px; text-decoration: none; }
    .right-content .popular-item { display: flex; align-items: center; gap: 12px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.03); margin-bottom: 10px; cursor: pointer; }
    .right-content .popular-item:hover { background: rgba(255,255,255,0.06); }
    .right-content .popular-item img { width: 120px; height: 72px; object-fit: cover; border-radius: 6px; display: block; }
    .right-content .popular-item .title { font-size: 0.95rem; line-height: 1.3; color: #fff; }
    .player-frame-wrap { background: #111; border-radius: 12px; overflow: hidden; }
    .header + main.container { padding-top: 6rem; }
  </style>
  <style>
    .footer { margin-top: 28px; padding: 16px 0; background: rgba(255,255,255,0.04); border-top: 1px solid rgba(255,255,255,0.08); }
    .footer .footer-content { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
    .footer .footer-section h3 { margin: 0 0 8px; }
    .footer .footer-section p { margin: 0; opacity: 0.85; }
    .footer .footer-section ul { list-style: none; padding: 0; margin: 0; }
    .footer .footer-section ul li { margin: 6px 0; }
    .footer .footer-section a { color: #fff; text-decoration: none; }
    .footer .footer-section a:hover { text-decoration: underline; }
    .footer .social-links { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
    @media (min-width:768px){ .footer .social-links { grid-template-columns: repeat(4, 1fr); } }
    .footer .social-item { display: flex; align-items: center; gap: 8px; background: #111; border-radius: 10px; padding: 10px; text-decoration: none; color: #fff; }
    .footer .social-item:hover { background: #1a1a1a; }
    .footer .social-item img { width: 22px; height: 22px; border-radius: 4px; object-fit: cover; }
    .footer .social-item span { line-height: 1; }
    .footer .footer-text { text-align: center; margin-top: 12px; opacity: 0.8; }
    @media (max-width:768px){ .footer .footer-content { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <header class="header">
    <nav class="nav-container">
      <div class="logo"><img src="../../../ico/logo.png" alt="Mundo Otaku Latino" style="height:28px; vertical-align:middle; margin-right:8px;">Mundo Otaku Latino</div>
      <ul class="nav-menu">
        <li><a href="../../index.html#inicio">Inicio</a></li>
        <li><a href="../../html/catalogo.html">Anime</a></li>
        <li><a href="#peliculas">Películas</a></li>
        <li><a href="#generos">Géneros</a></li>
        <li><a href="https://exe.io/ANIMETV" target="_blank">APK</a></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <div class="main-content">
      <a href="../../html/catalogo.html" class="back-btn">Volver al Catálogo</a>
      <div class="left-content">
        <div class="title-container">
          <h1 class="season-title">Dragon Ball Super</h1>
          <h2 class="episode-title" id="current-episode-title">Episodio 1</h2>
        </div>
        <div class="description">
          <p>Selecciona episodio e idioma, luego un servidor. Disponible principal: MixDrop (Español). StreamTape opcional.</p>
        </div>

        <section class="player-selector" aria-label="Selector de idioma y servidor">
          <div class="language-toggle" role="tablist" aria-label="Idiomas disponibles">
            <button class="lang-btn" role="tab" aria-selected="false" data-language="lat">
              <img src="../../../ico/LAT.png" alt="Latino">
              <span>Latino</span>
            </button>
            <button class="lang-btn" role="tab" aria-selected="false" data-language="sub">
              <img src="../../../ico/SUB.png" alt="Subtitulado">
              <span>Subtitulado</span>
            </button>
          </div>
          <div class="server-grid" aria-label="Servidores disponibles">
            <a href="#" class="server-card" data-server="Filemoon" data-url-lat="#" data-url-sub="#" aria-label="Filemoon">
              <img src="../../../ico/FILEMOON.png" alt="Filemoon">
              <span>Filemoon</span>
            </a>
            <a href="#" class="server-card" data-server="StreamWish" data-url-lat="#" data-url-sub="#" aria-label="StreamWish">
              <img src="../../../ico/STREAMWISH.png" alt="StreamWish">
              <span>StreamWish</span>
            </a>
            <a href="#" class="server-card" data-server="MixDrop" data-url-lat="#" data-url-sub="#" aria-label="MixDrop">
              <img src="../../../ico/mixdrop.webp" alt="MixDrop">
              <span>MixDrop</span>
            </a>
            <a href="#" class="server-card" data-server="StreamTape" data-url-lat="#" data-url-sub="#" aria-label="StreamTape">
              <img src="../../../ico/streamtape.png" alt="StreamTape">
              <span>StreamTape</span>
            </a>
            <a href="#" class="server-card" data-server="Netu" data-url-lat="#" data-url-sub="#" aria-label="Netu">
              <img src="../../../ico/netu.png" alt="Netu">
              <span>Netu</span>
            </a>
            <a href="#" class="server-card" data-server="Uqload" data-url-lat="#" data-url-sub="#" aria-label="Uqload">
              <img src="../../../ico/UQLOAD.webp" alt="Uqload">
              <span>Uqload</span>
            </a>
            <a href="#" class="server-card" data-server="HGLINK" data-url-lat="#" data-url-sub="#" aria-label="HGLINK">
              <img src="../../../ico/HGLINK.png" alt="HGLINK">
              <span>HGLINK</span>
            </a>
            <a href="#" class="server-card" data-server="EarnVids" data-url-lat="#" data-url-sub="#" aria-label="EarnVids">
              <img src="../../../ico/earnvids.jpg" alt="EarnVids">
              <span>EarnVids</span>
            </a>
            <a href="#" class="server-card" data-server="LULU VDO" data-url-lat="#" data-url-sub="#" aria-label="LULU VDO">
              <img src="../../../ico/LULUVDO.webp" alt="LULU VDO">
              <span>LULU VDO</span>
            </a>
            <a href="#" class="server-card" data-server="HexUpload" data-url-lat="#" data-url-sub="#" aria-label="HexUpload">
              <img src="../../../ico/HEXUPLOAD.png" alt="HexUpload">
              <span>HexUpload</span>
            </a>
          </div>
          <div class="player-frame-wrap">        <!-- Anuncio Publicitario -->
        
            <iframe id="player-frame" title="Reproductor" src="about:blank" allow="autoplay" allowfullscreen loading="lazy"></iframe>
          </div>
        </section>

        <section class="navigation-buttons" aria-label="Navegación de episodios" style="display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; column-gap:10px; margin:12px 0;">
          <button id="prev-ep" class="nav-btn" disabled style="padding:10px 16px; border-radius:8px; background:#2c2c2c; color:#bbb; border:none; justify-self:start;">â—„ episodio anterior</button>
          <button id="toggle-episodes" class="nav-btn" aria-expanded="false" style="padding:10px 16px; border-radius:8px; background:#6c63ff; color:#fff; border:none; justify-self:center;">lista de episodios</button>
          <button id="next-ep" class="nav-btn" disabled style="padding:10px 16px; border-radius:8px; background:#2c2c2c; color:#bbb; border:none; justify-self:end;">siguiente episodio â–º</button>
        </section>

        <div class="episodes-container" id="episodes-container" hidden>
          <h3 style="text-align:center; margin-bottom: 1.5rem; font-size: 1.8rem;">Episodios</h3>
          <div class="episodes-grid" id="episodes-grid"></div>
        </div>

        <section aria-label="Enlaces de descarga" style="margin-top:18px;">
          <div style="font-weight:700; margin-bottom:8px;">Descargas</div>
          <a href="./descargar-super.html" style="background:#27ae60; color:#fff; padding:10px 14px; border-radius:8px; display:inline-block;">Descargar Dragon Ball Super</a>
        </section>
      </div>
      <div class="right-content">
        <h3>Popular</h3>
        <div class="popular-item" onclick="window.location.href='../../../public/anime/attack-on-titan/season1.html'">
          <img src="../../../img/attack-on-titan-s1.jpg" alt="Attack on Titan">
          <div class="title">Attack on Titan - Temporada 1</div>
        </div>
        <div class="popular-item" onclick="window.location.href='../../../public/anime/demon-slayer/demon-slayer.html'">
          <img src="../../../img/Kimetsu No Yaiba temporada 1.png" alt="Kimetsu No Yaiba">
          <div class="title">Kimetsu No Yaiba - Temporada 1</div>
        </div>
        <div class="popular-item" onclick="window.location.href='../../../public/anime/spy-x-family/spy-x-family.html'">
          <img src="../../../img/Spy x Family S1.jpg" alt="Spy x Family">
          <div class="title">Spy x Family - Temporada 1</div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>StudioOtaku</h3>
          <p>Tu plataforma favorita para ver anime en español latino</p>
        </div>
        <div class="footer-section">
          <h3>Enlaces</h3>
          <ul>
            <li><a href="../../index.html#inicio">Inicio</a></li>
            <li><a href="../../html/catalogo.html">🗂️ Catálogo</a></li>
            <li><a href="#generos">Géneros</a></li>
            <li><a href="https://exe.io/ANIMETV" target="_blank">Aplicación APK</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h3>Síguenos</h3>
          <div class="social-links" aria-label="Redes sociales y canales oficiales">
            <a class="social-item" href="https://exe.io/ANIMETV" target="_blank" rel="noopener" aria-label="APP Anime TV">
              <img src="../../../ico/logo.png" alt="APP Anime TV" />
              <span>APP Anime TV</span>
            </a>
            <a class="social-item" href="https://t.me/Mundoootakulatino" target="_blank" rel="noopener" aria-label="Canal de Telegram">
              <img src="../../../ico/telegram.webp" alt="Telegram" />
              <span>Canal Telegram</span>
            </a>
            <a class="social-item" href="https://t.me/qquiCA9FiB41MDkx" target="_blank" rel="noopener" aria-label="Grupo de Telegram">
              <img src="../../../ico/telegram.webp" alt="Telegram Grupo" />
              <span>Grupo Telegram</span>
            </a>
            <a class="social-item" href="https://rumble.com/c/c-6184817?e9s=src_v1_clr" target="_blank" rel="noopener" aria-label="Página de Rumble">
              <img src="../../../ico/RUMBLE.webp" alt="Rumble" />
              <span>Página en Rumble</span>
            </a>
            <a class="social-item" href="https://www.facebook.com/STUDIOOTAKU01" target="_blank" rel="noopener" aria-label="Facebook Studio">
              <img src="../../../ico/facebook.png" alt="Facebook" />
              <span>Facebook</span>
            </a>
            <a class="social-item" href="https://www.facebook.com/groups/723496132540351" target="_blank" rel="noopener" aria-label="Grupo de Anime en Facebook">
              <img src="../../../ico/facebook.png" alt="Facebook Grupo Anime" />
              <span>Grupo Anime</span>
            </a>
            <a class="social-item" href="https://www.facebook.com/groups/1071796301003086" target="_blank" rel="noopener" aria-label="Grupo de Free Fire en Facebook">
              <img src="../../../ico/facebook.png" alt="Facebook Grupo Free Fire" />
              <span>Grupo Free Fire</span>
            </a>
            <a class="social-item" href="https://www.tiktok.com/@studiootaku01" target="_blank" rel="noopener" aria-label="TikTok">
              <img src="../../../ico/TIKTOK.webp" alt="TikTok" />
              <span>TikTok</span>
            </a>
            <a class="social-item" href="https://www.instagram.com/studiootaku01" target="_blank" rel="noopener" aria-label="Instagram">
              <img src="../../../ico/INSTAGRAM.webp" alt="Instagram" />
              <span>Instagram</span>
            </a>
            <a class="social-item" href="https://github.com/studioanime977" target="_blank" rel="noopener" aria-label="GitHub">
              <img src="../../../ico/GUITHUP.webp" alt="GitHub" />
              <span>GitHub</span>
            </a>
            <a class="social-item" href="https://www.youtube.com/@STUDIOOTAKU1" target="_blank" rel="noopener" aria-label="YouTube">
              <img src="../../../ico/youtube.png" alt="YouTube" />
              <span>YouTube</span>
            </a>
            <a class="social-item" href="https://chat.whatsapp.com/LgQP3YXx2eS2XRav5ashRm" target="_blank" rel="noopener" aria-label="WhatsApp">
              <img src="../../../ico/whatsapp.webp" alt="WhatsApp" />
              <span>WhatsApp</span>
            </a>
          </div>
        </div>
      </div>
      <p class="footer-text">&copy; 2025 StudioOtaku. Todos los derechos reservados.</p>
    </div>
  </footer>

  <script src="../../../assets/js/server-selector.js"></script>
  <script>
    function normalizeUrl(url) { return url || ''; }
    function mixdropFallback(url) {
      if (!url) return '';
      const m = url.match(/https?:\/\/mxdrop\.to\/e\/([^\/?#]+)/i);
      return m ? `https://mdy48tn97.com/e/${m[1]}` : '';
    }
    let currentEpisode = null;
    const episodes = [
      { num: 1,  title: 'Episodio 1',  op1: 'https://mxdrop.to/e/1nodgg07tew9o6', st: '' },
      { num: 2,  title: 'Episodio 2',  op1: 'https://mxdrop.to/e/k0evgj0za7lglm', st: '' },
      { num: 3,  title: 'Episodio 3',  op1: 'https://mxdrop.to/e/mkzjrddxc6p10d', st: '' },
      { num: 4,  title: 'Episodio 4',  op1: 'https://mxdrop.to/e/8lj9d4lqhnmdxr', st: '' },
      { num: 5,  title: 'Episodio 5',  op1: 'https://mxdrop.to/e/vkq1rnvntmkd68', st: '' },
      { num: 6,  title: 'Episodio 6',  op1: 'https://mxdrop.to/e/8lj9d4vdtdejd8', st: '' },
      { num: 7,  title: 'Episodio 7',  op1: 'https://mxdrop.to/e/xw916ov1tk4x1g', st: '' },
      { num: 8,  title: 'Episodio 8',  op1: 'https://mxdrop.to/e/z1j90pe3bgvx89g', st: '' },
      { num: 9,  title: 'Episodio 9',  op1: 'https://mxdrop.to/e/wlw9rnrrtx8vmx', st: '' },
      { num: 10, title: 'Episodio 10', op1: 'https://mxdrop.to/e/gjdm4434uxnw3k', st: '' },
      { num: 11, title: 'Episodio 11', op1: 'https://mxdrop.to/e/xw916oqkf8zk63', st: '' },
      { num: 12, title: 'Episodio 12', op1: 'https://mxdrop.to/e/9wx40nq7cglrxm', st: '' },
      { num: 13, title: 'Episodio 13', op1: 'https://mxdrop.to/e/jdkvgd0rix7141', st: '' },
      { num: 14, title: 'Episodio 14', op1: 'https://mxdrop.to/e/q1d7r1nlhxk6xr4', st: '' },
      { num: 15, title: 'Episodio 15', op1: 'https://mxdrop.to/e/7kj46kewa63w16', st: '' },
      { num: 16, title: 'Episodio 16', op1: 'https://mxdrop.to/e/4d9ozde1c973lg', st: '' },
      { num: 17, title: 'Episodio 17', op1: 'https://mxdrop.to/e/67rwg71vs36wdx', st: '' },
      { num: 18, title: 'Episodio 18', op1: 'https://mxdrop.to/e/q1d7r109i8egdn', st: '' },
      { num: 19, title: 'Episodio 19', op1: 'https://mxdrop.to/e/vkq1rkwnhq8vjkm', st: '' },
      { num: 20, title: 'Episodio 20', op1: 'https://mxdrop.to/e/67rwg7ngij918e', st: '' },
      { num: 21, title: 'Episodio 21', op1: 'https://mxdrop.to/e/xw916pe1ixlnw4', st: '' },
      { num: 22, title: 'Episodio 22', op1: 'https://mxdrop.to/e/xw916p1mhw6m8x', st: '' },
      { num: 23, title: 'Episodio 23', op1: 'https://mxdrop.to/e/67rwg3odbw9n8j', st: '' },
      { num: 24, title: 'Episodio 24', op1: 'https://mxdrop.to/e/4d9oz4pvfq4ddk7', st: '' },
      { num: 25, title: 'Episodio 25', op1: 'https://mxdrop.to/e/jdkvg4plbpgxr7', st: '' },
      { num: 26, title: 'Episodio 26', op1: 'https://mxdrop.to/e/mkzjr48wtgj930', st: '' },
      { num: 27, title: 'Episodio 27', op1: 'https://mxdrop.to/e/l79vrg96sq8m9p', st: '' },
      { num: 28, title: 'Episodio 28', op1: 'https://mxdrop.to/e/dkrow4rdc7dol0q', st: '' },
      { num: 29, title: 'Episodio 29', op1: 'https://mxdrop.to/e/03z4wojkcj679j', st: '' },
      { num: 30, title: 'Episodio 30', op1: 'https://mxdrop.to/e/pj60qn9oimw3l6', st: '' },
      { num: 31, title: 'Episodio 31', op1: 'https://mxdrop.to/e/67rwg3q9bx77ml', st: '' },
      { num: 32, title: 'Episodio 32', op1: 'https://mxdrop.to/e/mkzjr4dwcxvmq4d', st: '' },
      { num: 33, title: 'Episodio 33', op1: 'https://mxdrop.to/e/pj60qnjdaw91xe', st: '' },
      { num: 34, title: 'Episodio 34', op1: 'https://mxdrop.to/e/36qoxrr3up9rv0', st: '' },
      { num: 35, title: 'Episodio 35', op1: 'https://mxdrop.to/e/vkq1rvercgzj0k', st: '' },
      { num: 36, title: 'Episodio 36', op1: 'https://mxdrop.to/e/36qoxr1lhrp3j8', st: '' },
      { num: 37, title: 'Episodio 37', op1: 'https://mxdrop.to/e/36qoxrx3uvrg0v', st: '' },
      { num: 38, title: 'Episodio 38', op1: 'https://mxdrop.to/e/pj60qnqxa90gxg', st: '' },
      { num: 39, title: 'Episodio 39', op1: 'https://mxdrop.to/e/nln8rgjdhx638', st: '' },
      { num: 40, title: 'Episodio 40', op1: 'https://mxdrop.to/e/gjdmx4qliqkk1k', st: '' },
      { num: 41, title: 'Episodio 41', op1: 'https://mxdrop.to/e/wlw9r844fojm89', st: '' },
      { num: 42, title: 'Episodio 42', op1: 'https://mxdrop.to/e/4d9oz43du8qlmr', st: '' },
      { num: 43, title: 'Episodio 43', op1: 'https://mxdrop.to/e/4d9oz40vhqrejz3', st: '' },
      { num: 44, title: 'Episodio 44', op1: 'https://mxdrop.to/e/gjdmx4wdi6n7ze', st: '' },
      { num: 45, title: 'Episodio 45', op1: 'https://mxdrop.to/e/r60v4g10bv0jo7', st: '' },
      { num: 46, title: 'Episodio 46', op1: 'https://mxdrop.to/e/xw916pm7i4x9dr', st: '' },
      { num: 47, title: 'Episodio 47', op1: 'https://mxdrop.to/e/gjdmx48mh9vde1', st: '' },
      { num: 48, title: 'Episodio 48', op1: 'https://mxdrop.to/e/dkrow4nwak0o4n', st: '' },
      { num: 49, title: 'Episodio 49', op1: 'https://mxdrop.to/e/36qox1ooirrken', st: '' },
      { num: 50, title: 'Episodio 50', op1: 'https://mxdrop.to/e/l79vrzjkhvwz6e', st: '' },
      { num: 51, title: 'Episodio 51', op1: 'https://mxdrop.to/e/03z4wlm4ukgjr3', st: '' },
      { num: 52, title: 'Episodio 52', op1: 'https://mxdrop.to/e/vkq1re68tk9nm9', st: '' },
      { num: 53, title: 'Episodio 53', op1: 'https://mxdrop.to/e/7kj46d3vsjvlpx', st: '' },
      { num: 54, title: 'Episodio 54', op1: 'https://mxdrop.to/e/gjdmxldwbk978l', st: '' },
      { num: 55, title: 'Episodio 55', op1: 'https://mxdrop.to/e/67rwg6rgcpg87r', st: '' },
      { num: 56, title: 'Episodio 56', op1: 'https://mxdrop.to/e/k0evrxw3i0koqd', st: '' },
      { num: 57, title: 'Episodio 57', op1: 'https://mxdrop.to/e/elzrj763i3qgeg', st: '' },
      { num: 58, title: 'Episodio 58', op1: 'https://mxdrop.to/e/l79vrz78bm4r8n', st: '' },
      { num: 59, title: 'Episodio 59', op1: 'https://mxdrop.to/e/36qox16xfrdov', st: '' },
      { num: 60, title: 'Episodio 60', op1: 'https://mxdrop.to/e/4d9ozx43iqr64oz', st: '' },
      { num: 61, title: 'Episodio 61', op1: 'https://mxdrop.to/e/r60v4qq8tnzxe0', st: '' },
      { num: 62, title: 'Episodio 62', op1: 'https://mxdrop.to/e/wlw9reoou7m9gk', st: '' },
      { num: 63, title: 'Episodio 63', op1: 'https://mxdrop.to/e/9wx4070zi33j1v4', st: '' },
      { num: 64, title: 'Episodio 64', op1: 'https://mxdrop.to/e/owzdrerjf7e0mp', st: '' },
      { num: 65, title: 'Episodio 65', op1: 'https://mxdrop.to/e/vkq1reo9cpk9xg', st: '' },
      { num: 66, title: 'Episodio 66', op1: 'https://mxdrop.to/e/03z4wxl7t88g96', st: '' },
      { num: 67, title: 'Episodio 67', op1: 'https://mxdrop.to/e/elzrj7mxcqqwjj3', st: '' },
      { num: 68, title: 'Episodio 68', op1: 'https://mxdrop.to/e/1nodjq3riwvlez', st: '' },
      { num: 69, title: 'Episodio 69', op1: 'https://mxdrop.to/e/36qox1dnb4ln48', st: '' },
      { num: 70, title: 'Episodio 70', op1: 'https://mxdrop.to/e/l79vrzk1i8k1q4', st: '' },
      { num: 71, title: 'Episodio 71', op1: 'https://mxdrop.to/e/k0evrxzot717x3', st: '' },
      { num: 72, title: 'Episodio 72', op1: 'https://mxdrop.to/e/1nodjqe9ske993v', st: '' },
      { num: 73, title: 'Episodio 73', op1: 'https://mxdrop.to/e/jdkvg1opc3qj37', st: '' },
      { num: 74, title: 'Episodio 74', op1: 'https://mxdrop.to/e/z1j90e3wcevn13', st: '' },
      { num: 75, title: 'Episodio 75', op1: 'https://mxdrop.to/e/7kj46dzpiprvkg', st: '' },
      { num: 76, title: 'Episodio 76', op1: 'https://mxdrop.to/e/xw916rzgb8en0', st: '' },
      { num: 77, title: 'Episodio 77', op1: 'https://mxdrop.to/e/1nodj8d9hoqvl8', st: '' },
      { num: 78, title: 'Episodio 78', op1: 'https://mxdrop.to/e/7kj46841sd4ovp4', st: '' },
      { num: 79, title: 'Episodio 79', op1: 'https://mxdrop.to/e/gjdmx1gkuqplkp', st: '' },
      { num: 80, title: 'Episodio 80', op1: 'https://mxdrop.to/e/4d9oz8rlczlz0l', st: '' },
      { num: 81, title: 'Episodio 81', op1: 'https://mxdrop.to/e/z1j90rjxtj8prm', st: '' },
      { num: 82, title: 'Episodio 82', op1: 'https://mxdrop.to/e/r60v430dav4rmm0', st: '' },
      { num: 83, title: 'Episodio 83', op1: 'https://mxdrop.to/e/36qox839amwk96q', st: '' },
      { num: 84, title: 'Episodio 84', op1: 'https://mxdrop.to/e/owzdr391hl6xg0z', st: '' },
      { num: 85, title: 'Episodio 85', op1: 'https://mxdrop.to/e/9wx408n4smm90o', st: '' },
      { num: 86, title: 'Episodio 86', op1: 'https://mxdrop.to/e/gjdmx1nluordnv', st: '' },
      { num: 87, title: 'Episodio 87', op1: 'https://mxdrop.to/e/r60v436jbv8x47m', st: '' },
      { num: 88, title: 'Episodio 88', op1: 'https://mxdrop.to/e/67rwg470svjwk8', st: '' },
      { num: 89, title: 'Episodio 89', op1: 'https://mxdrop.to/e/gjdmx14wcvk9xm', st: '' },
      { num: 90, title: 'Episodio 90', op1: 'https://mxdrop.to/e/gjdmx1l3s81gzz', st: '' },
      { num: 91, title: 'Episodio 91', op1: 'https://mxdrop.to/e/dkrowll3ae8kl7', st: '' },
      { num: 92, title: 'Episodio 92', op1: 'https://mxdrop.to/e/1nodj8joh4n1kg', st: '' },
      { num: 93, title: 'Episodio 93', op1: 'https://mxdrop.to/e/1nodj8jqtopezv', st: '' },
      { num: 94, title: 'Episodio 94', op1: 'https://mxdrop.to/e/jdkvgm7mf79llo0', st: '' },
      { num: 95, title: 'Episodio 95', op1: 'https://mxdrop.to/e/z1j90r7jijvrk3', st: '' },
      { num: 96, title: 'Episodio 96', op1: 'https://mxdrop.to/e/k0evr39js14kr', st: '' },
      { num: 97, title: 'Episodio 97', op1: 'https://mxdrop.to/e/4d9ozzowa3ro4n', st: '' },
      { num: 98, title: 'Episodio 98', op1: 'https://mxdrop.to/e/k0evrrl7i3o9vj7', st: '' },
      { num: 99, title: 'Episodio 99', op1: 'https://mxdrop.to/e/7kj466qdblg1ew', st: '' },
      { num: 100, title: 'Episodio 100', op1: 'https://mxdrop.to/e/dkrowlzkf6prjo', st: '' },
      { num: 101, title: 'Episodio 101', op1: 'https://mxdrop.to/e/4d9oz83ru8ej71', st: '' },
      { num: 102, title: 'Episodio 102', op1: 'https://mxdrop.to/e/jdkvgmx9sw3lvl', st: '' },
      { num: 103, title: 'Episodio 103', op1: 'https://mxdrop.to/e/dkrowl7vuxr4m9', st: '' },
      { num: 104, title: 'Episodio 104', op1: 'https://mxdrop.to/e/7kj468x9ipvzkz', st: '' },
      { num: 105, title: 'Episodio 105', op1: 'https://mxdrop.to/e/q1d7rqkgsmgjl', st: '' },
      { num: 106, title: 'Episodio 106', op1: 'https://mxdrop.to/e/wlw9roqzij4k9z', st: '' },
      { num: 107, title: 'Episodio 107', op1: 'https://mxdrop.to/e/elzrjwoeazp9g0', st: '' },
      { num: 108, title: 'Episodio 108', op1: 'https://mxdrop.to/e/gjdmxxmxtr8mrj', st: '' },
      { num: 109, title: 'Episodio 109', op1: 'https://mxdrop.to/e/wlw9rn0xa008e3m', st: '' },
      { num: 110, title: 'Episodio 110', op1: 'https://mxdrop.to/e/elzrjn9kt8pk9e', st: '' },
      { num: 111, title: 'Episodio 111', op1: 'https://mxdrop.to/e/owzdr7mztd1klr', st: '' },
      { num: 112, title: 'Episodio 112', op1: 'https://mxdrop.to/e/8lj9d46eclln1q', st: '' },
      { num: 113, title: 'Episodio 113', op1: 'https://mxdrop.to/e/mkzjrdlmunex9n', st: '' },
      { num: 114, title: 'Episodio 114', op1: 'https://mxdrop.to/e/03z4wve9azpr9d', st: '' },
      { num: 115, title: 'Episodio 115', op1: 'https://mxdrop.to/e/03z4wv0ga0n8wn', st: '' },
      { num: 116, title: 'Episodio 116', op1: 'https://mxdrop.to/e/7kj46ropbdqk6o', st: '' },
      { num: 117, title: 'Episodio 117', op1: 'https://mxdrop.to/e/36qoxnzec9ro1r', st: '' },
      { num: 118, title: 'Episodio 118', op1: 'https://mxdrop.to/e/mkzjrk91ienedj', st: '' },
      { num: 119, title: 'Episodio 119', op1: 'https://mxdrop.to/e/elzrjlxzbmlnnq', st: '' },
      { num: 120, title: 'Episodio 120', op1: 'https://mxdrop.to/e/owzdrwnvfp473g', st: '' },
      { num: 121, title: 'Episodio 121', op1: 'https://mxdrop.to/e/1nodjnombkqxo06', st: '' },
      { num: 122, title: 'Episodio 122', op1: 'https://mxdrop.to/e/owzdrw4jbllvvdw', st: '' },
      { num: 123, title: 'Episodio 123', op1: 'https://mxdrop.to/e/8lj9dl1dtjlere', st: '' },
      { num: 124, title: 'Episodio 124', op1: 'https://mxdrop.to/e/nln8rlgxunl4px', st: '' },
      { num: 125, title: 'Episodio 125', op1: 'https://mxdrop.to/e/owzdrwg4flqle69', st: '' },
      { num: 126, title: 'Episodio 126', op1: 'https://mxdrop.to/e/xw916wvgsqmo3z', st: '' },
      { num: 127, title: 'Episodio 127', op1: 'https://mxdrop.to/e/jdkvgdmwfp9p80', st: '' },
      { num: 128, title: 'Episodio 128', op1: 'https://mxdrop.to/e/owzdrwrkclkdrw7', st: '' },
      { num: 129, title: 'Episodio 129', op1: 'https://mxdrop.to/e/jdkvgdegt79ovwg', st: '' },
      { num: 130, title: 'Episodio 130', op1: 'https://mxdrop.to/e/l79vr7d9f9djg1', st: '' },
      { num: 131, title: 'Episodio 131', op1: 'https://mxdrop.to/e/dkrowkpou1ez08', st: '' }
    ];
    const episodesGrid = document.getElementById('episodes-grid');
    episodes.forEach(ep => { const b = document.createElement('button'); b.className = 'episode-btn'; b.textContent = `Ep ${ep.num}`; b.onclick = () => loadEpisode(ep); episodesGrid.appendChild(b); });
    function applyEpisodeToServerGrid(ep) {
      const mixdropCard = document.querySelector('.server-card[data-server="MixDrop"]');
      const streamTapeCard = document.querySelector('.server-card[data-server="StreamTape"]');
      const otherCards = document.querySelectorAll('.server-card:not([data-server="MixDrop"]):not([data-server="StreamTape"])');
      const latUrlMix = normalizeUrl(ep.op1 || '');
      const latUrlSt = normalizeUrl(ep.st || '');
      if (mixdropCard) {
        mixdropCard.setAttribute('data-url-lat', latUrlMix || '#');
        const fb = mixdropFallback(latUrlMix);
        if (fb) { mixdropCard.setAttribute('data-fallback-lat', fb); } else { mixdropCard.removeAttribute('data-fallback-lat'); }
        mixdropCard.setAttribute('data-url-sub', '#');
      }
      if (streamTapeCard) {
        streamTapeCard.setAttribute('data-url-lat', latUrlSt || '#');
        streamTapeCard.setAttribute('data-url-sub', '#');
        const fbSt = (!latUrlSt && latUrlMix) ? mixdropFallback(latUrlMix) : '';
        if (fbSt) { streamTapeCard.setAttribute('data-fallback-lat', fbSt); }
        else { streamTapeCard.removeAttribute('data-fallback-lat'); }
      }
      otherCards.forEach(card => { card.setAttribute('data-url-lat', '#'); card.setAttribute('data-url-sub', '#'); });
    }
    function loadEpisode(episode) {
      document.querySelectorAll('.episode-btn').forEach((btn, index) => { btn.classList.toggle('active', index + 1 === episode.num); });
      document.getElementById('current-episode-title').textContent = `Episodio ${episode.num}${episode.title ? ': ' + episode.title : ''}`;
      currentEpisode = episode;
      applyEpisodeToServerGrid(episode);
      updateNavState();
      const hasLatLinks = Boolean(normalizeUrl(episode.op1 || '') || normalizeUrl(episode.st || ''));
      const anyActiveLang = document.querySelector('.lang-btn.active');
      const latBtn = document.querySelector('.lang-btn[data-language="lat"]');
      if (!anyActiveLang && hasLatLinks && latBtn) { latBtn.click(); }
    }
    function updateNavState() {
      const prev = document.getElementById('prev-ep');
      const next = document.getElementById('next-ep');
      if (!prev || !next || !currentEpisode) return;
      prev.disabled = currentEpisode.num <= 1;
      next.disabled = currentEpisode.num >= episodes.length;
      prev.style.background = prev.disabled ? '#2c2c2c' : '#6c63ff';
      prev.style.color = prev.disabled ? '#bbb' : '#fff';
      next.style.background = next.disabled ? '#2c2c2c' : '#6c63ff';
      next.style.color = next.disabled ? '#bbb' : '#fff';
    }
    const prevBtn = document.getElementById('prev-ep');
    const nextBtn = document.getElementById('next-ep');
    if (prevBtn) {
      prevBtn.addEventListener('click', () => {
        if (!currentEpisode) return;
        const idx = episodes.findIndex(e => e.num === currentEpisode.num);
        if (idx > 0) loadEpisode(episodes[idx - 1]);
      });
    }
    if (nextBtn) {
      nextBtn.addEventListener('click', () => {
        if (!currentEpisode) return;
        const idx = episodes.findIndex(e => e.num === currentEpisode.num);
        if (idx >= 0 && idx < episodes.length - 1) loadEpisode(episodes[idx + 1]);
      });
    }
    const toggleBtn = document.getElementById('toggle-episodes');
    const episodesBox = document.getElementById('episodes-container');
    if (toggleBtn && episodesBox) {
      toggleBtn.addEventListener('click', () => {
        const isHidden = episodesBox.hasAttribute('hidden');
        if (isHidden) { episodesBox.removeAttribute('hidden'); toggleBtn.setAttribute('aria-expanded', 'true'); episodesBox.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
        else { episodesBox.setAttribute('hidden', ''); toggleBtn.setAttribute('aria-expanded', 'false'); window.scrollTo({ top: 0, behavior: 'smooth' }); }
      });
    }
    const langBtns = document.querySelectorAll('.lang-btn');
    langBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        const lang = btn.dataset.language;
        const hasLinks = (ep) => {
          if (!ep) return false;
          if (lang === 'sub') return false;
          return Boolean(normalizeUrl(ep.op1 || '') || normalizeUrl(ep.st || ''));
        };
        if (!hasLinks(currentEpisode)) {
          const target = episodes.find(e => hasLinks(e)) || episodes[0];
          loadEpisode(target);
          try { btn.click(); } catch (_) {}
        }
      });
    });
    loadEpisode(episodes[0]);
  </script>
  <script>
    (function(){
      const p=new URLSearchParams(window.location.search)
      const ep=parseInt(p.get('ep'))
      if(Number.isFinite(ep) && ep>=1){
        const buttons=document.querySelectorAll('.episode-btn')
        const target=buttons[ep-1]
        if(target){ target.click() }
      }
    })()
  </script>
  
<script src="../../../assets/js/ads.js"></script>
</body>
</html>
