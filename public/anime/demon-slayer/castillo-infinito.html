<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demon Slayer – Castillo Infinito</title>
    <link rel="stylesheet" href="../../../css/server-selector.css">
    <link rel="stylesheet" href="../../../css/style.css">
    <link rel="stylesheet" href="../../../css/responsive-style.css">
    <link rel="stylesheet" href="../../../css/responsive-navigation.css">
    <style>
      .main-content { display: flex; gap: 20px; align-items: flex-start; }
      .left-content { flex: 3; }
      .right-content { flex: 1; }
      .right-content h3 { margin-top: 0; }
      .popular-item { display: flex; align-items: center; gap: 12px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.03); margin-bottom: 10px; cursor: pointer; }
      .popular-item:hover { background: rgba(255,255,255,0.06); }
      .popular-item img { width: 120px; height: 72px; object-fit: cover; border-radius: 6px; display: block; }
      .popular-item .title { font-size: 0.95rem; line-height: 1.3; color: #fff; }
      .back-btn { display: inline-block; margin: 12px 0; padding: 10px 16px; background: #6c63ff; color: #fff; border-radius: 8px; text-decoration: none; }
      @media (max-width: 768px) {
        .main-content { flex-direction: column; }
        .popular-item { flex-direction: column; align-items: center; }
        .popular-item img { width: 80px; height: 80px; margin-bottom: 10px; }
      }

      /* === Modal Suscríbete === */
      .subscribe-modal[hidden] { display: none; }
      .subscribe-modal {
        position: fixed;
        inset: 0;
        z-index: 9999;
        display: grid;
        place-items: center;
        background: rgba(10,12,16,0.75);
        backdrop-filter: blur(4px);
      }
      .subscribe-modal::before {
        content: "";
        position: absolute;
        inset: 0;
        background: url('../../../ico/suscribete.png') center/220px no-repeat;
        opacity: 0.25;
        filter: drop-shadow(0 6px 18px rgba(0,0,0,0.4));
      }
      .subscribe-card {
        position: relative;
        width: min(720px, 92vw);
        border-radius: 16px;
        padding: 22px 22px 18px;
        background: linear-gradient(180deg, rgba(21,25,35,0.95), rgba(21,25,35,0.98));
        border: 1px solid #2a3142;
        box-shadow: 0 10px 28px rgba(0,0,0,0.45);
        text-align: center;
        color: #fff;
      }
      .subscribe-card .brand {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
        font-weight: 800;
        letter-spacing: 0.2px;
      }
      .subscribe-card .brand img { width: 32px; height: 32px; }
      .subscribe-title { font-size: 1.6rem; margin: 6px 0 8px; }
      .subscribe-desc { color: #b8bcc8; margin: 0 0 14px; }
      .subscribe-actions { display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
      .btn {
        display: inline-flex; align-items: center; gap: 10px;
        padding: 10px 16px; border-radius: 12px; text-decoration: none;
        border: 1px solid #334050; transition: all .18s ease; font-weight: 700;
      }
      .btn img { width: 20px; height: 20px; }
      .btn-primary { background: #ea4335; color: #fff; border-color: #ea4335; }
      .btn-primary:hover { filter: brightness(1.08); transform: translateY(-1px); }
      .btn-ghost { background: #1a2131; color: #e8e8ea; }
      .btn-ghost:hover { border-color: #3b4a63; transform: translateY(-1px); }
      .btn-facebook { background: #1877F2; color: #fff; border-color: #1877F2; }
      .btn-facebook:hover { filter: brightness(1.08); transform: translateY(-1px); }
      .btn-tiktok {
        background: linear-gradient(90deg, #25F4EE, #FE2C55);
        color: #fff;
        border-color: transparent;
      }
      .btn-tiktok:hover { filter: brightness(1.08); transform: translateY(-1px); }
      .subscribe-foot { margin-top: 10px; font-size: .9rem; color: #9aa1af; }

      @media (max-width: 768px) {
        .subscribe-title { font-size: 1.35rem; }
      }
    </style>
</head>
<body>
    <header class="header">
      <nav class="nav-container">
        <div class="logo"><img src="../../../ico/logo.png" alt="Mundo Otaku Latino" style="height:28px; vertical-align:middle; margin-right:8px;">Mundo Otaku Latino</div>
        <ul class="nav-menu">
          <li><a href="../../index.html#inicio">Inicio</a></li>
          <li><a href="../../html/catalogo.html">Anime</a></li>
          <li><a href="#peliculas">Películas</a></li>
          <li><a href="#generos">Géneros</a></li>
          <li><a href="https://exe.io/ANIMETV" target="_blank">APK</a></li>
        </ul>
      </nav>
    </header>
    
    <!-- Modal Suscríbete -->
    <div id="subscribe-modal" class="subscribe-modal" role="dialog" aria-modal="true" aria-labelledby="subscribe-title" hidden>
      <div class="subscribe-card">
        <div class="brand"><img src="../../../ico/youtube.png" alt="YouTube">Mundo Otaku Latino</div>
        <h2 id="subscribe-title" class="subscribe-title">¡Apóyanos suscribiéndote al canal!</h2>
        <p class="subscribe-desc">Tu apoyo nos ayuda a mantener el sitio y subir nuevo contenido. ¡Gracias por estar aquí!</p>
        <div class="subscribe-actions">
          <a class="btn btn-primary" href="https://www.youtube.com/@STUDIOOTAKU1" target="_blank" rel="noopener" aria-label="Abrir canal en YouTube"><img src="../../../ico/youtube.png" alt="YouTube"> Suscribirme en YouTube</a>
          <a class="btn btn-facebook" href="https://www.facebook.com/STUDIOOTAKU01" target="_blank" rel="noopener" aria-label="Abrir Facebook"><img src="../../../ico/facebook.png" alt="Facebook"> Facebook</a>
          <a class="btn btn-tiktok" href="https://www.tiktok.com/@studiootaku01" target="_blank" rel="noopener" aria-label="Abrir TikTok"><img src="../../../ico/TIKTOK.webp" alt="TikTok"> TikTok</a>
          <button id="subscribe-dismiss" class="btn btn-ghost" aria-label="Cerrar y continuar">Continuar al sitio</button>
        </div>
        <div class="subscribe-foot">Se mostrará una vez por sesión.</div>
      </div>
    </div>
    <main class="container">
        <div class="main-content">
          <div class="left-content">
            <a href="../../html/catalogo.html" class="back-btn">Volver al Catalogo</a>
            <h1 class="page-title">Demon Slayer – Castillo Infinito</h1>

            <section class="player-selector" aria-label="Selector de idioma y servidor">
                <div class="language-toggle" role="tablist" aria-label="Idiomas disponibles">
                    <button class="lang-btn" role="tab" aria-selected="false" data-language="lat">
                        <img src="../../../ico/LAT.png" alt="Latino">
                        <span>Latino</span>
                    </button>
                    <button class="lang-btn" role="tab" aria-selected="false" data-language="sub">
                        <img src="../../../ico/SUB.png" alt="Subtitulado">
                        <span>Subtitulado</span>
                    </button>
                </div>

                <div class="server-grid" aria-label="Servidores disponibles">
                    <a href="#" class="server-card"
                       data-url-lat="https://example.com/latino/filemoon"
                       data-url-sub="https://example.com/subtitulado/filemoon"
                       aria-label="Filemoon">
                        <img src="../../../ico/FILEMOON.png" alt="Filemoon">
                        <span>Filemoon</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://hglink.to/e/x6towvxdhc9h"
                       data-fallback-lat="https://hglink.to/e/x6towvxdhc9h"
                       data-url-sub="https://hglink.to/e/wle2cabqs493"
                       aria-label="StreamWish">
                        <img src="../../../ico/STREAMWISH.png" alt="StreamWish">
                        <span>StreamWish</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://mxdrop.to/e/xw90zpw7alo9x3r"
                       data-fallback-lat="https://mdy48tn97.com/e/xw90zpw7alo9x3r"
                       data-url-sub="#"
                       aria-label="MixDrop">
                        <img src="../../../ico/mixdrop.webp" alt="MixDrop">
                        <span>MixDrop</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://streamtape.com/e/88MRpkp3a9iobp7/castillo_infinito2025_SONY_FULL_HD.mp4"
                       data-fallback-lat="https://streamtape.com/e/88MRpkp3a9iobp7/castillo_infinito2025_SONY_FULL_HD.mp4"
                       data-url-sub="https://streamtape.com/e/vrlZ6o9RAGu4G7O/"
                       data-fallback-sub="https://streamtape.com/e/vrlZ6o9RAGu4G7O/"
                       aria-label="StreamTape">
                        <img src="../../../ico/streamtape.png" alt="StreamTape">
                        <span>StreamTape</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://hqq.ac/e/ZkZJQyt6MWtyNC9qWlR3dTBjdnl4QT09"
                       data-url-sub="https://hqq.ac/e/ZkZJQyt6MWtyNC9qWlR3dTBjdnl4QT09"
                       data-fallback-sub="https://waaw.ac/f/uOpfkz58kWeh"
                       aria-label="Netu">
                        <img src="../../../ico/netu.png" alt="Netu">
                        <span>Netu</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://example.com/latino/uqload"
                       data-url-sub="https://example.com/subtitulado/uqload"
                       aria-label="Uqload">
                        <img src="../../../ico/UQLOAD.webp" alt="Uqload">
                        <span>Uqload</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://hglink.to/e/x6towvxdhc9h"
                       data-fallback-lat="https://hglink.to/e/x6towvxdhc9h"
                       data-url-sub="https://hglink.to/e/wle2cabqs493"
                       aria-label="HGLINK">
                        <img src="../../../ico/HGLINK.png" alt="HGLINK">
                        <span>HGLINK</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://dintezuvio.com/embed/n6e202wkatgx"
                       data-fallback-lat="https://dintezuvio.com/embed/n6e202wkatgx"
                       aria-label="EarnVids">
                        <img src="../../../ico/default.png" alt="EarnVids">
                        <span>EarnVids</span>
                    </a>

                    <a href="#" class="server-card"
                       data-url-lat="https://example.com/latino/luluvdo"
                       data-url-sub="https://example.com/subtitulado/luluvdo"
                       aria-label="LULU VDO">
                        <img src="../../../ico/LULUVDO.webp" alt="LULU VDO">
                        <span>LULU VDO</span>
                    </a>
                </div>

                <div class="player-frame-wrap">
                    <iframe id="player-frame" title="Reproductor" src="about:blank" allow="autoplay" allowfullscreen loading="lazy"></iframe>
                </div>
            </section>
            <section class="navigation-buttons" aria-label="Navegación de episodios" style="display:grid; grid-template-columns: 1fr auto 1fr; align-items:center; column-gap:10px; margin:12px 0;">
              <button class="nav-btn" disabled style="padding:10px 16px; border-radius:8px; background:#2c2c2c; color:#bbb; border:none; justify-self:start;">◄ episodio anterior</button>
              <a class="nav-btn" href="../../../public/anime/demon-slayer/demon-slayer.html" style="padding:10px 16px; border-radius:8px; background:#6c63ff; color:#fff; text-decoration:none; justify-self:center;">lista de episodios</a>
              <button class="nav-btn" disabled style="padding:10px 16px; border-radius:8px; background:#2c2c2c; color:#bbb; border:none; justify-self:end;">siguiente episodio ►</button>
            </section>

            <section class="episode-info" aria-label="Información del episodio" style="margin-top:16px;">
              <h2 style="margin-bottom:8px;">Kimetsu no Yaiba: Castillo Infinito</h2>
              <p style="opacity:0.9;">Tanjiro Kamado se adentra en el Castillo Infinito para enfrentar a las Lunas Superiores y desmantelar el reino de Muzan. Una batalla decisiva que marca el clímax de la saga, con escenas épicas y una animación de alto nivel.</p>
            </section>

            <section class="downloads" aria-label="Enlaces de descarga" style="margin-top:8px;">
              <h3 style="margin:0 0 10px 0;">Enlaces</h3>
              <div class="downloads-table" style="display:grid; grid-template-columns: 1.2fr 1fr 1fr 1fr 1fr; gap:8px; align-items:center;">
                <div style="display:flex; align-items:center; gap:8px;">
                  <a class="download-btn" href="./descarga-castilloinfinito.html?lang=lat" style="padding:8px 12px; background:#27ae60; color:#fff; border-radius:8px; text-decoration:none;">Descarga</a>
                </div>
                <div><span style="display:inline-block; padding:6px 10px; border-radius:8px; background:#111; color:#fff;">HD MULTIHOST</span></div>
                <div>Audio Latino</div>
                <div>—</div>
                <div>—</div>


                <div style="display:flex; align-items:center; gap:8px;">
                  <a class="download-btn" href="./descarga-castilloinfinito.html?lang=sub" style="padding:8px 12px; background:#27ae60; color:#fff; border-radius:8px; text-decoration:none;">Descarga</a>
                </div>
                <div><span style="display:inline-block; padding:6px 10px; border-radius:8px; background:#111; color:#fff;">HD MULTIHOST</span></div>
                <div>Sub Español</div>
                <div>—</div>
                <div>—</div>
              </div>
            </section>
          </div>
          <div class="right-content">
            <h3>Popular</h3>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/spy-x-family/spy-x-family.html'">
              <img src="../../../img/Spy x Family S1.jpg" alt="Spy x Family">
              <div class="title">Spy x Family - Temporada 1</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/chainsaw-man/chainsaw-man.html'">
              <img src="../../../img/Chainsaw Man S1.jpg" alt="Chainsaw Man">
              <div class="title">Chainsaw Man - Temporada 1</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/attack-on-titan/attack-on-titan.html'">
              <img src="../../../img/Attack on Titan S4.jpg" alt="Attack on Titan">
              <div class="title">Attack on Titan - Temporada 4</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/jujutsu-kaisen/jujutsu-kaisen.html'">
              <img src="../../../img/Jujutsu Kaisen S1.jpg" alt="Jujutsu Kaisen">
              <div class="title">Jujutsu Kaisen - Temporada 1</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/demon-slayer/demon-slayer.html'">
              <img src="../../../img/Kimetsu No Yaiba temporada 1.png" alt="Kimetsu No Yaiba">
              <div class="title">Kimetsu No Yaiba - Temporada 1</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/naruto/naruto.html'">
              <img src="../../../img/Naruto Classic.jpg" alt="Naruto">
              <div class="title">Naruto - Clásico</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/one-piece/one-piece.html'">
              <img src="../../../img/One Piece Wano.jpg" alt="One Piece">
              <div class="title">One Piece - Wano</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/dragon-ball/dragon-ball.html'">
              <img src="../../../img/Dragon Ball Z.jpg" alt="Dragon Ball Z">
              <div class="title">Dragon Ball Z</div>
            </div>
            <div class="popular-item" onclick="window.location.href='../../../public/anime/bleach/bleach.html'">
              <img src="../../../img/Bleach TYBW.jpg" alt="Bleach">
              <div class="title">Bleach - TYBW</div>
            </div>
          </div>
        </div>
    </main>

    <script src="../../../assets/js/server-selector.js"></script>
    <script>
      (function() {
        const modal = document.getElementById('subscribe-modal');
        const dismiss = document.getElementById('subscribe-dismiss');
        const KEY = 'subscribeModalShown';
        function openModal() {
          if (!modal) return;
          modal.hidden = false;
          document.body.style.overflow = 'hidden';
        }
        function closeModal() {
          modal.hidden = true;
          document.body.style.overflow = '';
          try { sessionStorage.setItem(KEY, '1'); } catch (_) {}
        }
        document.addEventListener('DOMContentLoaded', function() {
          let shown = '0';
          try { shown = sessionStorage.getItem(KEY) || '0'; } catch (_) {}
          if (shown !== '1') openModal();
        });
        if (dismiss) dismiss.addEventListener('click', closeModal);
        // Cerrar al hacer click fuera de la tarjeta
        if (modal) modal.addEventListener('click', function(e){ if (e.target === modal) closeModal(); });
        // Cerrar con tecla ESC
        document.addEventListener('keydown', function(e){ if (e.key === 'Escape' && !modal.hidden) closeModal(); });
      })();
    </script>
</body>
</html>