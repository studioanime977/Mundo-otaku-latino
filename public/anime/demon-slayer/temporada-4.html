<!DOCTYPE html>

<html lang="es">

<head>
<meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <meta name="google-adsense-account" content="ca-pub-8480825005176665">

<title>Demon Slayer - Temporada 4 - StudioOtaku</title>

  

  <link rel="stylesheet" href="../../../css/temporadas.css">

  

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8480825005176665" crossorigin="anonymous"></script>

    <link rel="apple-touch-icon" href="/img/mundo-otaku-latino.ico?v=1">

  

<link rel="stylesheet" href="../../../css/anime.css">
<link rel="stylesheet" href="../../../css/responsive-style.css">
<link rel="stylesheet" href="../../../css/responsive-navigation.css">
<link rel="icon" href="../../../ico/logo.png">
</head>

<body>



    <header class="header">
<nav class="nav-container">
      <div class="logo"><img src="../../../ico/logo.png" alt="Mundo Otaku Latino" style="height:28px; vertical-align:middle; margin-right:8px;">Mundo Otaku Latino</div>
      <ul class="nav-menu">
        <li><a href="../../index.html#inicio">Inicio</a></li>
        <li><a href="../../html/catalogo.html">Anime</a></li>
        <li><a href="#peliculas">Películas</a></li>
        <li><a href="#generos">Géneros</a></li>
        <li><a href="https://exe.io/ANIMETV" target="_blank">APK</a></li>
      </ul>
    </nav>
  </header>



  <main class="main-content">

    <a href="../../html/catalogo.html" class="back-btn">Volver al Catalogo</a>

    



    <div class="title-container">

        <h1 class="season-title">Demon Slayer - Temporada 4</h1>

        <h2 class="episode-title" id="current-episode-title">Episodio 1</h2>

    </div>



    <div class="contenedor-video">

      <div class="player-options">
        <button id="opcion1-btn" class="player-btn active" onclick="switchPlayer('opcion1')">OPCIÓN 1</button>
        <button id="opcion2-btn" class="player-btn" onclick="switchPlayer('opcion2')">OPCIÓN 2</button>
        <button id="opcion3-btn" class="player-btn" onclick="switchPlayer('opcion3')">OPCIÓN 3</button>
        <button id="opcion4-btn" class="player-btn" onclick="switchPlayer('opcion4')">OPCIÓN 4</button>
      </div>
      <div class="reproductor-video">
        <div id="opcion1-player" class="player-container active">
          <iframe src="" allowfullscreen allow="autoplay; fullscreen; encrypted-media; picture-in-picture" frameborder="0" scrolling="no" style="width: 100%; height: 100%; border: none; background: #000;"></iframe>
        </div>
        <div id="opcion2-player" class="player-container">
          <iframe src="" allowfullscreen allow="autoplay; fullscreen; encrypted-media; picture-in-picture" frameborder="0" scrolling="no" style="width: 100%; height: 100%; border: none; background: #000;"></iframe>
        </div>
        <div id="opcion3-player" class="player-container">
          <iframe src="" allowfullscreen allow="autoplay; fullscreen; encrypted-media; picture-in-picture" frameborder="0" scrolling="no" style="width: 100%; height: 100%; border: none; background: #000;"></iframe>
        </div>
        <div id="opcion4-player" class="player-container">
          <iframe src="" allowfullscreen allow="autoplay; fullscreen; encrypted-media; picture-in-picture" frameborder="0" scrolling="no" style="width: 100%; height: 100%; border: none; background: #000;"></iframe>
        </div>
      </div>
      <div class="video-functions">
        <a id="external-player-link" class="function-btn" href="#" target="_blank" rel="noopener">Abrir video en nueva pestaña</a>
      </div>

    </div>



    <div class="episodes-container">

        <h3 style="text-align:center; margin-bottom: 1.5rem; font-size: 1.8rem;">Episodios</h3>

        <div class="episodes-grid" id="episodes-grid">

            <!-- Los episodios se generarÃ¡n con JavaScript -->

        </div>

    </div>



    <section class="popular-section">

      <h3 style="text-align:center; margin-bottom: 1.5rem; font-size: 1.8rem;">Popular</h3>

      <div class="popular-grid">

        <a href="../../../anime/boku-no-hero-academia/temporada-1.html" class="popular-item">Boku No Hero Academia</a>

        <a href="../../../anime/attack-on-titan/temporada-1.html" class="popular-item">Attack on Titan</a>

        <a href="../../../anime/chainsaw-man/season1.html" class="popular-item">Chainsaw Man</a>

      </div>

    </section>

  </main>



  <script>

    const episodes = [

        { num: 1, title: 'Para derrotar a Muzan Kibutsuji', op1: 'https://sendvid.com/embed/x1y2z3a4', op2: '', op3: '' },

        { num: 2, title: 'El dolor del Pilar del Agua, Giyu Tomioka', op1: 'https://sendvid.com/embed/y2z3a4x1', op2: '', op3: '' },

        { num: 3, title: 'Tanjiro se recupera y se une al entrenamiento', op1: 'https://sendvid.com/embed/z3a4x1y2', op2: '', op3: '' },

        { num: 4, title: 'Una sonrisa para Tokito', op1: 'https://sendvid.com/embed/a4x1y2z3', op2: '', op3: '' },

        { num: 5, title: 'Me voy a comer un demonio', op1: 'https://sendvid.com/embed/x1y2z3a5', op2: '', op3: '' },

        { num: 6, title: 'El mÃ¡s fuerte de los Cazadores de Demonios', op1: 'https://sendvid.com/embed/y2z3a4x6', op2: '', op3: '' },

        { num: 7, title: 'El Pilar de la Roca, Gyomei Himejima', op1: 'https://sendvid.com/embed/z3a4x1y7', op2: '', op3: '' },

        { num: 8, title: 'La uniÃ³n de los Pilares', op1: 'https://sendvid.com/embed/a4x1y2z8', op2: '', op3: '' }

    ];



    const episodesGrid = document.getElementById('episodes-grid');

    episodes.forEach(episode => {
      const episodeBtn = document.createElement('button');
      episodeBtn.className = 'episode-btn';
      episodeBtn.textContent = `Ep ${episode.num}`;
      episodeBtn.onclick = () => loadEpisode(episode);
      episodesGrid.appendChild(episodeBtn);
    });

    function loadEpisode(episode) {
      document.querySelectorAll('.episode-btn').forEach((btn, index) => {
        btn.classList.toggle('active', index + 1 === episode.num);
      });
      document.getElementById('current-episode-title').textContent = `Episodio ${episode.num}${episode.title ? ': ' + episode.title : ''}`;
      document.querySelector('#opcion1-player iframe').src = episode.op1 || '';
      document.querySelector('#opcion2-player iframe').src = episode.op2 || '';
      document.querySelector('#opcion3-player iframe').src = episode.op3 || '';
      document.querySelector('#opcion4-player iframe').src = episode.op4 || '';
      const directHref = ((document.getElementById('opcion1-player').classList.contains('active') ? episode.op1 : document.getElementById('opcion2-player').classList.contains('active') ? episode.op2 : document.getElementById('opcion3-player').classList.contains('active') ? episode.op3 : episode.op4) || '#').replace('sendvid.com/embed/', 'sendvid.com/');
      document.getElementById('external-player-link').href = directHref;
      switchPlayer('opcion1');
    }

    function switchPlayer(option) {
      document.querySelectorAll('.player-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.getElementById(`${option}-btn`).classList.add('active');
      document.querySelectorAll('.player-container').forEach(container => {
        container.classList.remove('active');
      });
      document.getElementById(`${option}-player`).classList.add('active');
      const current = document.getElementById('current-episode-title').textContent.match(/Episodio\s+(\d+)/);
      const epNum = current ? parseInt(current[1], 10) : null;
      if (epNum != null) {
        const episode = episodes.find(e => e.num === epNum);
        if (episode) {
          const activeSrc = (document.getElementById('opcion1-player').classList.contains('active') ? episode.op1 : document.getElementById('opcion2-player').classList.contains('active') ? episode.op2 : document.getElementById('opcion3-player').classList.contains('active') ? episode.op3 : episode.op4);
          const href = (activeSrc || '#').replace('sendvid.com/embed/', 'sendvid.com/');
          document.getElementById('external-player-link').href = href;
        }
      }
    }

    if (episodes.length > 0) {
      loadEpisode(episodes[0]);
    }

    // Auto fallback: si el reproductor activo falla, cambiar al siguiente disponible
    function setupAutoFallback() {
      const containers = Array.from(document.querySelectorAll('.player-container'));
      containers.forEach(container => {
        const iframe = container.querySelector('iframe');
        if (!iframe) return;
        iframe.addEventListener('error', () => {
          const order = ['opcion1', 'opcion2', 'opcion3', 'opcion4'];
          const activeIndex = order.findIndex(id => document.getElementById(id + '-player').classList.contains('active'));
          for (let i = 1; i < order.length; i++) {
            const next = order[(activeIndex + i) % order.length];
            const nextIframe = document.querySelector(`#${next}-player iframe`);
            if (nextIframe && nextIframe.src && nextIframe.src !== '#') {
              switchPlayer(next);
              break;
            }
          }
        }, true);
      });
    }

    setupAutoFallback();

    function searchAnime() {
        const searchTerm = document.getElementById('search-input').value.trim();

        if (searchTerm) {

            window.location.href = `../../../html/catalogo.html?search=${encodeURIComponent(searchTerm)}`;

        }

    }



    document.addEventListener('keypress', function(e) {

        if (e.key === 'Enter' && e.target.id === 'search-input') {

            searchAnime();

        }

    });

  </script>



  <script>

    document.addEventListener('contextmenu', function(e) {

      e.preventDefault();

    });



    document.addEventListener('keydown', function(e) {

      if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {

        e.preventDefault();

      }

    });

  </script>



</body>

</html>






















