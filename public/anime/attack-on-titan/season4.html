<!DOCTYPE html>

<html lang="es">

<head>
    <meta name="f08cd2b5211f5b0a95753720000f639c66350c1d" content="f08cd2b5211f5b0a95753720000f639c66350c1d" />

<meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <meta name="google-adsense-account" content="ca-pub-8480825005176665">

<title>Attack On Titan - Temporada 4 - StudioOtaku</title>

  

  <link rel="stylesheet" href="../../../css/temporadas.css">

  <link rel="stylesheet" href="../../../css/style.css">

  

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8480825005176665" crossorigin="anonymous"></script><link rel="stylesheet" href="../../../css/anime.css">
<link rel="stylesheet" href="../../../css/responsive-style.css">
<link rel="stylesheet" href="../../../css/responsive-navigation.css"><style>
    .main-content { display: flex; gap: 20px; align-items: flex-start; }
    .left-content { flex: 3; }
    .right-content { flex: 1; }
    .right-content .popular-item { display: flex; align-items: center; gap: 12px; padding: 8px; border-radius: 8px; background: rgba(255,255,255,0.03); margin-bottom: 10px; cursor: pointer; }
    .right-content .popular-item:hover { background: rgba(255,255,255,0.06); }
    .right-content .popular-item img { width: 120px; height: 72px; object-fit: cover; border-radius: 6px; display: block; }
    .right-content .popular-item .title { font-size: 0.95rem; line-height: 1.3; color: #fff; }
    .video-functions { display: flex; gap: 10px; justify-content: flex-start; margin-top: 10px; }
    .function-btn { padding: 10px 16px; background: linear-gradient(135deg, #6c63ff 0%, #5a54e6 100%); color: #fff; border: none; border-radius: 8px; font-weight: 600; box-shadow: 0 4px 10px rgba(0,0,0,0.15); cursor: pointer; transition: transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease; }
    .function-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 14px rgba(0,0,0,0.2); }
    .function-btn:active { transform: translateY(0); box-shadow: 0 3px 8px rgba(0,0,0,0.15); }
    .contenedor-video.expanded .reproductor-video iframe { height: 75vh; }
    body.lights-off::before { content: ""; position: fixed; inset: 0; background: rgba(0,0,0,0.85); pointer-events: none; z-index: 999; }
    .reproductor-video { position: relative; z-index: 1000; }
    body.lights-off .function-btn { background: #333; color: #ffd54f; }
    .reproductor-video iframe { width: 100%; height: 480px; border: none; }
    /* BotÃ³n Descargar alineado a la derecha */
    .video-functions { align-items: center; }
    .download-btn { margin-left: auto; background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); }
    .function-btn.disabled { opacity: 0.5; pointer-events: none; }
  </style>
    <link rel="icon" type="image/png" href="../../../ico/logo.png">
    <link rel="apple-touch-icon" href="../../../ico/logo.png">
    <link rel="shortcut icon" href="../../../ico/logo.png">
</head>

<body>



    <header class="header">
<nav class="nav-container">
      <div class="logo"><img src="../../../ico/logo.png" alt="Mundo Otaku Latino" style="height:28px; vertical-align:middle; margin-right:8px;">Mundo Otaku Latino</div>
      <ul class="nav-menu">
        <li><a href="../../index.html#inicio">Inicio</a></li>
        <li><a href="../../html/catalogo.html">Anime</a></li>
        <li><a href="#peliculas">PelÃ­culas</a></li>
        <li><a href="#generos">GÃ©neros</a></li>
        <li><a href="https://exe.io/ANIMETV" target="_blank">APK</a></li>
      </ul>
    </nav>
  </header>



  <main class="main-content">

    <a href="../../html/catalogo.html" class="back-btn">Volver al Catalogo</a>

    <div class="left-content">

      



      <div class="title-container">

          <h1 class="season-title">Attack On Titan - Temporada 4</h1>

          <h2 class="episode-title" id="current-episode-title">Episodio 1</h2>

      </div>



      <div class="description">
        <p>Disfruta de Attack on Titan Temporada 4 (16 episodios disponibles de 28 totales). Selecciona un episodio y elige el reproductor. La opciÃ³n 1 contiene los enlaces de mxdrop.</p>
      </div>



      <div class="contenedor-video">

        <div class="player-options">
          <button id="opcion1-btn" class="player-btn active" onclick="switchPlayer('opcion1')">OPCIÃ“N 1</button>
          <button id="opcion2-btn" class="player-btn" onclick="switchPlayer('opcion2')">OPCIÃ“N 2</button>
          <button id="opcion3-btn" class="player-btn" onclick="switchPlayer('opcion3')">OPCIÃ“N 3</button>
          <button id="opcion4-btn" class="player-btn" onclick="switchPlayer('opcion4')">OPCIÃ“N 4</button>
        </div>

        <div class="reproductor-video">

          <div id="opcion1-player" class="player-container active">

            <iframe src="" allowfullscreen></iframe>

          </div>

          <div id="opcion2-player" class="player-container">

            <iframe src="" allowfullscreen></iframe>

          </div>

          <div id="opcion3-player" class="player-container">

            <iframe src="" allowfullscreen></iframe>

          </div>

          <div id="opcion4-player" class="player-container">

            <iframe src="" allowfullscreen></iframe>

          </div>

        </div>

        <div class="video-functions">
          <button class="function-btn" onclick="previousEpisode()">⏮ Anterior</button>
          <button class="function-btn" onclick="expandPlayer()">Expandir</button>
          <button class="function-btn" onclick="toggleLights()">Apagar Luces</button>
          <button class="function-btn" onclick="nextEpisode()">Siguiente ⏭</button>
          <a id="download-btn" class="function-btn download-btn" href="#" target="_blank" rel="noopener noreferrer">Descargar</a>
        </div>

      </div>



      <div class="description">
        <p>16/28 episodios disponibles. Estado: En progreso (faltan episodios 17-28).</p>
      </div>



      <div class="episodes-container">

          <h3 style="text-align:center; margin-bottom: 1.5rem; font-size: 1.8rem;">Episodios</h3>

          <div class="episodes-grid" id="episodes-grid">

              <!-- Los episodios se generarÃƒÂ¡n con JavaScript -->

          </div>

      </div>

    </div>



    <div class="right-content">

      <h3>Popular</h3>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/spy-x-family/spy-x-family.html'">

        <img src="../../../img/Spy x Family S1.jpg" alt="Spy x Family">

        <div class="title">Spy x Family - Temporada 1</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/chainsaw-man/chainsaw-man.html'">

        <img src="../../../img/Chainsaw Man S1.jpg" alt="Chainsaw Man">

        <div class="title">Chainsaw Man - Temporada 1</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/attack-on-titan/attack-on-titan.html'">

        <img src="../../../img/Attack on Titan S4.jpg" alt="Attack on Titan">

        <div class="title">Attack on Titan - Temporada 4</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/jujutsu-kaisen/jujutsu-kaisen.html'">

        <img src="../../../img/Jujutsu Kaisen S1.jpg" alt="Jujutsu Kaisen">

        <div class="title">Jujutsu Kaisen - Temporada 1</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/demon-slayer/demon-slayer.html'">

        <img src="../../../img/Kimetsu No Yaiba temporada 1.png" alt="Kimetsu No Yaiba">

        <div class="title">Kimetsu No Yaiba - Temporada 1</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/naruto/naruto.html'">

        <img src="../../../img/Naruto Classic.jpg" alt="Naruto">

        <div class="title">Naruto - ClÃ¡sico</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/one-piece/one-piece.html'">

        <img src="../../../img/One Piece Wano.jpg" alt="One Piece">

        <div class="title">One Piece - Wano</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/dragon-ball/dragon-ball.html'">

        <img src="../../../img/Dragon Ball Z.jpg" alt="Dragon Ball Z">

        <div class="title">Dragon Ball Z</div>

      </div>

      <div class="popular-item" onclick="window.location.href='../../../public/anime/bleach/bleach.html'">

        <img src="../../../img/Bleach TYBW.jpg" alt="Bleach">

        <div class="title">Bleach - TYBW</div>

      </div>

    </div>

  </main>



  <script>

    // FunciÃƒÂ³n para expandir el reproductor

    function expandPlayer() {

      const videoContainer = document.querySelector('.contenedor-video');

      videoContainer.classList.toggle('expanded');

    }



    // FunciÃƒÂ³n para apagar/encender las luces

    function toggleLights() {

      document.body.classList.toggle('lights-off');

    }



    // Bloquear clic derecho

    window.addEventListener('contextmenu', function (e) {

      e.preventDefault();

    });



    // Bloquear teclas F12 y Ctrl+Shift+I

    window.addEventListener('keydown', function (e) {

      if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I')) {

        e.preventDefault();

      }

    });



    // Convierte cualquier URL de StreamTape (/v/ o /e/) a URL embebible /e/{id}/
    function toEmbed(url) {
      if (!url) return '';
      try {
        const m = url.match(/\/\/(?:www\.)?streamtape\.com\/(?:v|e)\/([^/?#]+)/i);
        if (m && m[1]) return `https://streamtape.com/e/${m[1]}/`;
      } catch (_) {}
      // Fallback: reemplazo simple
      return url.replace('/v/', '/e/') + (url.endsWith('/') ? '' : '/');
    }

    // Estructura de 16 episodios disponibles con enlaces de mxdrop en OpciÃ³n 1
    const episodes = [
      { num: 1, title: "Episodio 1", op1: "https://mxdrop.to/e/vkq1d1e1f4pjx7", op2: "", op3: "", op4: "" },
      { num: 2, title: "Episodio 2", op1: "https://mxdrop.to/e/k0evkvgof6omqw", op2: "", op3: "", op4: "" },
      { num: 3, title: "Episodio 3", op1: "https://mxdrop.to/e/r60vmv3qs6mm7n", op2: "", op3: "", op4: "" },
      { num: 4, title: "Episodio 4", op1: "https://mxdrop.to/e/q1d7z7q9uw9r0g", op2: "", op3: "", op4: "" },
      { num: 5, title: "Episodio 5", op1: "https://mxdrop.to/e/dkrovow0tnv4qw", op2: "", op3: "", op4: "" },
      { num: 6, title: "Episodio 6", op1: "https://mxdrop.to/e/l79vlvlvhjx3vx", op2: "", op3: "", op4: "" },
      { num: 7, title: "Episodio 7", op1: "https://mxdrop.to/e/jdkv7ve3fxpwln", op2: "", op3: "", op4: "" },
      { num: 8, title: "Episodio 8", op1: "https://mxdrop.to/e/owzd1do3t61g7e", op2: "", op3: "", op4: "" },
      { num: 9, title: "Episodio 9", op1: "https://mxdrop.to/e/elzrqrdvbqdeepq", op2: "", op3: "", op4: "" },
      { num: 10, title: "Episodio 10", op1: "https://mxdrop.to/e/67rwjw0kan9j8o", op2: "", op3: "", op4: "" },
      { num: 11, title: "Episodio 11", op1: "https://mxdrop.to/e/owzd1djxa3p609", op2: "", op3: "", op4: "" },
      { num: 12, title: "Episodio 12", op1: "https://mxdrop.to/e/l79vlvmwtqqn9ol", op2: "", op3: "", op4: "" },
      { num: 13, title: "Episodio 13", op1: "https://mxdrop.to/e/wlw9097kfgndrx", op2: "", op3: "", op4: "" },
      { num: 14, title: "Episodio 14", op1: "https://mxdrop.to/e/9wx4z4e9fdwrw4", op2: "", op3: "", op4: "" },
      { num: 15, title: "Episodio 15", op1: "https://mxdrop.to/e/pj60x0wxaq914w", op2: "", op3: "", op4: "" },
      { num: 16, title: "Episodio 16", op1: "https://mxdrop.to/e/r60vmvlrtzoex3", op2: "", op3: "", op4: "" }
    ];
  
    // Estado actual
    let currentEpisode = null;
    let currentOption = 'opcion1';



    // Generar botones de episodios

    const episodesGrid = document.getElementById('episodes-grid');

    episodes.forEach(episode => {

      const episodeBtn = document.createElement('button');

      episodeBtn.className = 'episode-btn';

      episodeBtn.textContent = `Ep ${episode.num}`;

      episodeBtn.onclick = () => loadEpisode(episode);

      episodesGrid.appendChild(episodeBtn);

    });



    // Cargar episodio
    function loadEpisode(episode) {
      document.querySelectorAll('.episode-btn').forEach((btn, index) => {
        btn.classList.toggle('active', index + 1 === episode.num);
      });
      document.getElementById('current-episode-title').textContent = `Episodio ${episode.num}${episode.title ? ': ' + episode.title : ''}`;
      document.querySelector('#opcion1-player iframe').src = toEmbed(episode.op1);
      document.querySelector('#opcion2-player iframe').src = toEmbed(episode.op2);
      document.querySelector('#opcion3-player iframe').src = toEmbed(episode.op3);
      document.querySelector('#opcion4-player iframe').src = toEmbed(episode.op4);
      currentEpisode = episode;
      switchPlayer('opcion1');
      updateDownloadLink(); // Asegurar que el botón de descarga esté disponible
      updateNavigationButtons(); // Actualizar botones de navegación
    }



    // Cambiar reproductor
    function switchPlayer(option) {
      document.querySelectorAll('.player-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      document.getElementById(`${option}-btn`).classList.add('active');
      document.querySelectorAll('.player-container').forEach(container => {
        container.classList.remove('active');
      });
      document.getElementById(`${option}-player`).classList.add('active');
      currentOption = option;
      updateDownloadLink();
    }

    // Determina el URL original (no embebido) segÃºn el reproductor activo
    function getUrlForOption(ep, option) {
      if (!ep) return '';
      const map = { opcion1: 'op1', opcion2: 'op2', opcion3: 'op3', opcion4: 'op4' };
      const key = map[option] || 'op1';
      return ep[key] || '';
    }

    // Actualiza el botÃ³n Descargar con el enlace del reproductor activo
    function updateDownloadLink() {
      const a = document.getElementById('download-btn');
      const url = getUrlForOption(currentEpisode, currentOption);
      let finalUrl = url;
      
      // Si contiene /e/ en el enlace, convertir a /f/ para descarga directa
      if (/\/e\//.test(url)) {
        finalUrl = url.replace('/e/', '/f/');
      }
      
      if (finalUrl) {
        // Generar enlace acortado con exe.io API (formato simple)
        const apiToken = '110e7b6cbdf7a5aa354afb395e889c7aba3411c6';
        // Asegurar que el URL tenga protocolo
        if (!finalUrl.startsWith('http://') && !finalUrl.startsWith('https://')) {
          finalUrl = 'https://' + finalUrl;
        }
        const shortenedUrl = `https://exe.io/st?api=${apiToken}&url=${finalUrl}`;
        
        a.href = shortenedUrl;
        a.classList.remove('disabled');
      } else {
        a.href = '#';
        a.classList.add('disabled');
      }
    }



    // Función para actualizar la disponibilidad de los botones de navegación
    function updateNavigationButtons() {
      const prevBtn = document.querySelector('button[onclick="previousEpisode()"]');
      const nextBtn = document.querySelector('button[onclick="nextEpisode()"]');

      if (prevBtn && nextBtn) {
        if (currentEpisode && currentEpisode.num > 1) {
          prevBtn.disabled = false;
          prevBtn.classList.remove('disabled');
        } else {
          prevBtn.disabled = true;
          prevBtn.classList.add('disabled');
        }

        if (currentEpisode && currentEpisode.num < episodes.length) {
          nextBtn.disabled = false;
          nextBtn.classList.remove('disabled');
        } else {
          nextBtn.disabled = true;
          nextBtn.classList.add('disabled');
        }
      }
    }

    // Función para ir al episodio anterior
    function previousEpisode() {
      if (!currentEpisode || currentEpisode.num <= 1) return;

      const previousEpisodeNum = currentEpisode.num - 1;
      const previousEpisode = episodes.find(ep => ep.num === previousEpisodeNum);

      if (previousEpisode) {
        loadEpisode(previousEpisode);
        // Hacer scroll hacia arriba para ver el reproductor
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    // Función para ir al siguiente episodio
    function nextEpisode() {
      if (!currentEpisode || currentEpisode.num >= episodes.length) return;

      const nextEpisodeNum = currentEpisode.num + 1;
      const nextEpisode = episodes.find(ep => ep.num === nextEpisodeNum);

      if (nextEpisode) {
        loadEpisode(nextEpisode);
        // Hacer scroll hacia arriba para ver el reproductor
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    // Cargar el primer episodio por defecto
    if (episodes.length > 0) {
      loadEpisode(episodes[0]);
      updateNavigationButtons(); // Inicializar botones de navegación
    }

  </script>

<section class="anuncio-responsive">
  <!-- Anuncio Google responsivo -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-8480825005176665"
       data-ad-slot="1234567890"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</section>
<script>
(function(mxtv){
var d = document,
    s = d.createElement('script'),
    l = d.scripts[d.scripts.length - 1];
s.settings = mxtv || {};
s.src = "\/\/aggressivestruggle.com\/bKX.V\/s\/dFG\/l\/0PYBWEcI\/-evmn9au\/ZoUZlDkcP\/TmY\/2\/NZz\/UM1BNQz\/EeteNxjRYt3wNZTMUE3jMEgo";
s.async = true;
s.referrerPolicy = 'no-referrer-when-downgrade';
l.parentNode.insertBefore(s, l);
})({})
</script>

</body>

</html>





















